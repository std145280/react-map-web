(this["webpackJsonpfirebase-react-auth"]=this["webpackJsonpfirebase-react-auth"]||[]).push([[0],{120:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(35),c=a.n(r),o=a(11),u=a.n(o),i=a(19),m=a(3),s=a(138),d=a(136),b=a(130),p=a(77),E=a(65),v=a.n(E);a(109);v.a.initializeApp({apiKey:"AIzaSyAwT8qCgvv7RKFkSMKfOe3zlMbgiw54uTM",authDomain:"auth-development-7136f.firebaseapp.com",databaseURL:"https://auth-development-7136f-default-rtdb.firebaseio.com",projectId:"auth-development-7136f",storageBucket:"auth-development-7136f.appspot.com",messagingSenderId:"1044741522096",appId:"1:1044741522096:web:2cac8bc4e2e33f6a37f175"});var g=v.a.auth(),f=v.a,h=l.a.createContext();function y(){return Object(n.useContext)(h)}function w(e){var t=e.children,a=Object(n.useState)(),r=Object(m.a)(a,2),c=r[0],o=r[1],u=Object(n.useState)(!0),i=Object(m.a)(u,2),s=i[0],d=i[1];Object(n.useEffect)((function(){return g.onAuthStateChanged((function(e){o(e),d(!1)}))}),[]);var b={currentUser:c,login:function(e,t){return g.signInWithEmailAndPassword(e,t)},signup:function(e,t){return g.createUserWithEmailAndPassword(e,t)},logout:function(){return g.signOut()},resetPassword:function(e){return g.sendPasswordResetEmail(e)},updateEmail:function(e){return c.updateEmail(e)},updatePassword:function(e){return c.updatePassword(e)}};return l.a.createElement(h.Provider,{value:b},!s&&t)}var O=a(12),C=a(9);function N(){Object(n.useEffect)((function(){window.ga("send",{hitType:"event",eventCategory:"SignUp",eventAction:"sign up",eventLabel:Date().toLocaleString()+" - Open SignUp page"})}),[]);var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),r=y().signup,c=Object(n.useState)(""),o=Object(m.a)(c,2),E=o[0],v=o[1],g=Object(n.useState)(!1),f=Object(m.a)(g,2),h=f[0],w=f[1],N=Object(O.k)();function A(){return(A=Object(i.a)(u.a.mark((function n(l){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l.preventDefault(),window.ga("send",{hitType:"event",eventCategory:"SignUp",eventAction:"click",eventLabel:Date().toLocaleString()+" - Submit SignUp"}),t.current.value===a.current.value){n.next=4;break}return n.abrupt("return",v("Passwords do not match"));case 4:return n.prev=4,v(""),w(!0),n.next=9,r(e.current.value,t.current.value);case 9:N.push("/"),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),v("Failed to create an account");case 15:w(!1);case 16:case"end":return n.stop()}}),n,null,[[4,12]])})))).apply(this,arguments)}return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{className:"cardLogSign"},l.a.createElement(s.a.Body,null,l.a.createElement("h2",{className:"text-center mb-4"},"Sign Up"),E&&l.a.createElement(d.a,{variant:"danger"},E),l.a.createElement(b.a,{onSubmit:function(e){return A.apply(this,arguments)}},l.a.createElement(b.a.Group,{id:"email"},l.a.createElement(b.a.Label,null,"Email"),l.a.createElement(b.a.Control,{type:"email",ref:e,required:!0})),l.a.createElement(b.a.Group,{id:"password"},l.a.createElement(b.a.Label,null,"Password"),l.a.createElement(b.a.Control,{type:"password",ref:t,required:!0})),l.a.createElement(b.a.Group,{id:"password-confirm"},l.a.createElement(b.a.Label,null,"Password Confirmation"),l.a.createElement(b.a.Control,{type:"password",ref:a,required:!0})),l.a.createElement(p.a,{disabled:h,className:"w-100",type:"submit"},"Sign Up")))),l.a.createElement("div",{className:"w-100 text-center mt-2"},"Already have an account? ",l.a.createElement(C.Link,{to:"/login"},"Log In")))}var A=a(129),j=a(13),k=a(133),L=a(137),S=a(131);function T(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),r=y(),c=r.currentUser,o=r.updatePassword,u=r.updateEmail,i=Object(n.useState)(""),E=Object(m.a)(i,2),v=E[0],g=E[1],f=Object(n.useState)(!1),h=Object(m.a)(f,2),w=h[0],N=h[1],A=Object(O.k)();return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{className:"cardLogSign"},l.a.createElement(s.a.Body,null,l.a.createElement("h2",{className:"text-center mb-4"},"Update Profile"),v&&l.a.createElement(d.a,{variant:"danger"},v),l.a.createElement(b.a,{onSubmit:function(n){if(n.preventDefault(),t.current.value!==a.current.value)return g("Passwords do not match");var l=[];N(!0),g(""),e.current.value!==c.email&&l.push(u(e.current.value)),t.current.value&&l.push(o(t.current.value)),Promise.all(l).then((function(){A.push("/")})).catch((function(){g("Failed to update account")})).finally((function(){N(!1)}))}},l.a.createElement(b.a.Group,{id:"email"},l.a.createElement(b.a.Label,null,"Email"),l.a.createElement(b.a.Control,{type:"email",ref:e,required:!0,defaultValue:c.email})),l.a.createElement(b.a.Group,{id:"password"},l.a.createElement(b.a.Label,null,"Password"),l.a.createElement(b.a.Control,{type:"password",ref:t,placeholder:"Leave blank to keep the same"})),l.a.createElement(b.a.Group,{id:"password-confirm"},l.a.createElement(b.a.Label,null,"Password Confirmation"),l.a.createElement(b.a.Control,{type:"password",ref:a,placeholder:"Leave blank to keep the same"})),l.a.createElement(p.a,{disabled:w,className:"w-100",type:"submit"},"Update")))),l.a.createElement("div",{className:"w-100 text-center mt-2"},l.a.createElement(C.Link,{to:"/"},"Cancel")))}function D(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(P,null),l.a.createElement(T,null))}var I=a(78),x=a.n(I);function P(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=(t[0],t[1]),r=y(),c=(r.currentUser,r.logout),o=Object(O.k)();function s(){return(s=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),e.prev=1,e.next=4,c();case 4:o.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return l.a.createElement("div",{className:"admin-panel-container"},l.a.createElement(k.a,{fixed:"top",collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},l.a.createElement(k.a.Brand,{href:"#home",onClick:function(){return o.push("/")}}," ",l.a.createElement("img",{src:x.a,alt:"Logo",width:96,height:48})," "),l.a.createElement(k.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(k.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(L.a,{className:"mr-auto"},l.a.createElement(S.a,{title:"Vehicles",id:"collasible-nav-dropdown"},l.a.createElement(S.a.Item,{href:"#all_vehicles",onClick:function(){return o.push("/Vehicles")}},"All Vehicles"),l.a.createElement(S.a.Divider,null),l.a.createElement(S.a.Item,{href:"#add_vehicle",onClick:function(){return o.push("/AddVehicle")}},"Add Vehicle")),l.a.createElement(S.a,{title:"Tour Guides",id:"collasible-nav-dropdown"},l.a.createElement(S.a.Item,{href:"#all_tour_guides",onClick:function(){return o.push("/TourGuides")}},"All Tour Guides"),l.a.createElement(S.a.Divider,null),l.a.createElement(S.a.Item,{href:"#add_tour_guide",onClick:function(){return o.push("/AddTourGuide")}},"Add Tour Guide")),l.a.createElement(S.a,{title:"Points Of Interest",id:"collasible-nav-dropdown"},l.a.createElement(S.a.Item,{href:"#all_points_of_interest",onClick:function(){return o.push("/PointOfInterest")}},"All Points Of Interest"),l.a.createElement(S.a.Divider,null),l.a.createElement(S.a.Item,{href:"#add_point_of_interest",onClick:function(){return o.push("/AddPointOfInterest")}},"Add Point of Interest")),l.a.createElement(S.a,{title:"Tours",id:"collasible-nav-dropdown"},l.a.createElement(S.a.Item,{href:"#all_tours",onClick:function(){return o.push("/Tours")}},"All Tours"),l.a.createElement(S.a.Divider,null),l.a.createElement(S.a.Item,{href:"?#add_tour",onClick:function(){return o.push("/AddTour")}},"Add Tour"))),l.a.createElement(L.a,null,l.a.createElement(L.a.Link,{href:"#rent_requests",onClick:function(){return o.push("/RentRequests")}},"Rent Requests"),l.a.createElement(S.a,{title:"Settings",id:"collasible-nav-dropdown"},l.a.createElement(S.a.Item,{href:"#settings",onClick:function(){return o.push("/Settings")}},"System Settings"),l.a.createElement(S.a.Divider,null),l.a.createElement(S.a.Item,{href:"#profile",onClick:function(){return o.push("/Profile")}},"Profile"),l.a.createElement(S.a.Divider,null),l.a.createElement(S.a.Item,{href:"#about",onClick:function(){return o.push("/About")}},"About")),l.a.createElement(L.a.Link,{href:"#log_out",onClick:function(){return s.apply(this,arguments)}},"Log Out"," ")))))}var F=a(127);function R(){var e=Object(O.k)(),t=Object(n.useState)(0),a=Object(m.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(),u=Object(m.a)(o,2),i=(u[0],u[1]);Object(n.useEffect)((function(){f.database().ref("tour").on("value",(function(e){var t=e.val(),a=[],n=0;for(var l in t)n++,a.push(Object(j.a)({id:l},t[l])),c(n);i(a)}))}),[]);var d=Object(n.useState)(0),b=Object(m.a)(d,2),p=b[0],E=b[1],v=Object(n.useState)(),g=Object(m.a)(v,2),h=(g[0],g[1]);Object(n.useEffect)((function(){f.database().ref("poi").on("value",(function(e){var t=e.val(),a=[],n=0;for(var l in t)a.push(Object(j.a)({id:l},t[l])),n++,E(n);h(a),console.log(a)}))}),[]);var y=Object(n.useState)(0),w=Object(m.a)(y,2),C=w[0],N=w[1],A=Object(n.useState)(),k=Object(m.a)(A,2),L=(k[0],k[1]);Object(n.useEffect)((function(){f.database().ref("vehicle").on("value",(function(e){var t=e.val(),a=[],n=0;for(var l in t)a.push(Object(j.a)({id:l},t[l])),n++;N(n),L(a)}))}),[]);var S=Object(n.useState)(0),T=Object(m.a)(S,2),D=T[0],I=T[1],x=Object(n.useState)(),R=Object(m.a)(x,2),G=(R[0],R[1]);Object(n.useEffect)((function(){f.database().ref("rentRequest").on("value",(function(e){var t=e.val(),a=[],n=0;for(var l in t)a.push(Object(j.a)({id:l},t[l])),n++;G(a),I(n)}))}),[]);var V=Object(n.useState)(),U=Object(m.a)(V,2),q=(U[0],U[1]),M=Object(n.useState)(),B=Object(m.a)(M,2),Q=B[0],z=B[1];return Object(n.useEffect)((function(){f.database().ref("tourGuide").on("value",(function(e){var t=e.val(),a=[],n=0;for(var l in t)a.push(Object(j.a)({id:l},t[l])),n++;q(a),z(n)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(P,null),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("b",null,"Dashboard "),l.a.createElement(F.a,null,l.a.createElement(s.a,{className:"dashboardCard",border:"primary"},l.a.createElement(s.a.Header,null,l.a.createElement("b",null,"Tours")),l.a.createElement(s.a.Body,null,l.a.createElement("div",null,"There are ",r," "," tours. "),l.a.createElement(s.a.Text,null)),l.a.createElement(s.a.Footer,null,l.a.createElement("button",{className:"btn btn-primary w-100 ",onClick:function(){return e.push("/Tours")}},l.a.createElement("i",{className:"fa   fa-map-marked-alt"}," All Tours")),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-primary w-100",onClick:function(){return window.location.href="/AddTour?#add_tour"}},l.a.createElement("i",{className:"fa fa-plus"}," Add New Tour")))),l.a.createElement("br",null),l.a.createElement(s.a,{className:"dashboardCard",border:"primary"},l.a.createElement(s.a.Header,null,l.a.createElement("b",null,"Points Of Interest")),l.a.createElement(s.a.Body,null,l.a.createElement("div",null,"There are ",p," "," points of interest. "),l.a.createElement(s.a.Text,null)),l.a.createElement(s.a.Footer,null,l.a.createElement("button",{className:"btn btn-primary w-100 ",onClick:function(){return e.push("/PointOfInterest")}},l.a.createElement("i",{className:"fa  fa-map-marker-alt"}," All Points")),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-primary w-100",onClick:function(){return e.push("/AddPointOfInterest")}},l.a.createElement("i",{className:"fa fa-plus"}," Add New Point")),l.a.createElement("br",null))),l.a.createElement("br",null),l.a.createElement(s.a,{className:"dashboardCard",border:"primary"},l.a.createElement(s.a.Header,null,l.a.createElement("b",null,"Vehices")),l.a.createElement(s.a.Body,null,l.a.createElement("div",null,"There are ",C," "," vehicles. "),l.a.createElement("br",null),l.a.createElement(s.a.Text,null)),l.a.createElement(s.a.Footer,null,l.a.createElement("button",{className:"btn btn-primary w-100 ",onClick:function(){return e.push("/Vehicles")}},l.a.createElement("i",{className:"fa fa-car"}," All Vehicles")),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-primary w-100",onClick:function(){return e.push("/AddVehicle")}},l.a.createElement("i",{className:"fa fa-plus"}," Add New Vehicle")))),l.a.createElement("br",null),l.a.createElement(s.a,{className:"dashboardCard",border:"primary"},l.a.createElement(s.a.Header,null,l.a.createElement("b",null,"Tour Guides")),l.a.createElement(s.a.Body,null,l.a.createElement("div",null,"There are ",Q," "," Tour Guides. "),l.a.createElement(s.a.Text,null)),l.a.createElement(s.a.Footer,null,l.a.createElement("button",{className:"btn btn-primary w-100 ",onClick:function(){return e.push("/TourGuides")}},l.a.createElement("i",{className:"fa fa-users"}," All Tour Guides")),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-primary w-100",onClick:function(){return e.push("/AddTourGuide")}},l.a.createElement("i",{className:"fa fa-plus"}," Add New Tour Guide")))),l.a.createElement(s.a,{className:"dashboardCard",border:"primary"},l.a.createElement(s.a.Header,null,l.a.createElement("b",null,"Requests")),l.a.createElement(s.a.Body,null,l.a.createElement("div",null,"There are ",D," "," request for tours. "),l.a.createElement(s.a.Text,null)),l.a.createElement(s.a.Footer,null,l.a.createElement("button",{className:"btn btn-primary w-100",onClick:function(){return e.push("/RentRequests")}},l.a.createElement("i",{className:"fas fa-clipboard-list"}," All Requests")))))))}function G(){Object(n.useEffect)((function(){window.ga("send",{hitType:"event",eventCategory:"Login",eventAction:"login",eventLabel:Date().toLocaleString()+" - Open Login page"})}),[]);var e=Object(n.useRef)(),t=Object(n.useRef)(),a=y().login,r=Object(n.useState)(""),c=Object(m.a)(r,2),o=c[0],E=c[1],v=Object(n.useState)(!1),g=Object(m.a)(v,2),f=g[0],h=g[1],w=Object(O.k)();function N(){return(N=Object(i.a)(u.a.mark((function n(l){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l.preventDefault(),window.ga("send",{hitType:"event",eventCategory:"Login",eventAction:"click",eventLabel:Date().toLocaleString()+" - Submit Login"}),n.prev=2,E(""),h(!0),n.next=7,a(e.current.value,t.current.value);case 7:w.push("/"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),E("Failed to log in");case 13:h(!1);case 14:case"end":return n.stop()}}),n,null,[[2,10]])})))).apply(this,arguments)}return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{className:"cardLogSign"},l.a.createElement(s.a.Body,null,l.a.createElement("h2",{className:"text-center mb-4"},"Log In"),o&&l.a.createElement(d.a,{variant:"danger"},o),l.a.createElement(b.a,{onSubmit:function(e){return N.apply(this,arguments)}},l.a.createElement(b.a.Group,{id:"email"},l.a.createElement(b.a.Label,null,"Email"),l.a.createElement(b.a.Control,{type:"email",ref:e,required:!0})),l.a.createElement(b.a.Group,{id:"password"},l.a.createElement(b.a.Label,null,"Password"),l.a.createElement(b.a.Control,{type:"password",ref:t,required:!0})),l.a.createElement(p.a,{disabled:f,className:"w-100",type:"submit"},"Log In")),l.a.createElement("div",{className:"w-100 text-center mt-3"},l.a.createElement(C.Link,{to:"/forgot-password"},"Forgot Password?")))),l.a.createElement("div",{className:"w-100 text-center mt-2"},"Need an account? ",l.a.createElement(C.Link,{to:"/signup"},"Sign Up")))}var V=a(90);function U(e){var t=e.component,a=Object(V.a)(e,["component"]),n=y().currentUser;return l.a.createElement(O.d,Object.assign({},a,{render:function(e){return n?l.a.createElement(t,e):l.a.createElement(O.c,{to:"/login"})}}))}function q(){var e=Object(n.useRef)(),t=y().resetPassword,a=Object(n.useState)(""),r=Object(m.a)(a,2),c=r[0],o=r[1],E=Object(n.useState)(""),v=Object(m.a)(E,2),g=v[0],f=v[1],h=Object(n.useState)(!1),w=Object(m.a)(h,2),O=w[0],N=w[1];function A(){return(A=Object(i.a)(u.a.mark((function a(n){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,f(""),o(""),N(!0),a.next=7,t(e.current.value);case 7:f("Check your inbox for further instructions"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),o("Failed to reset password");case 13:N(!1);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))).apply(this,arguments)}return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{className:"cardLogSign"},l.a.createElement(s.a.Body,null,l.a.createElement("h2",{className:"text-center mb-4"},"Password Reset"),c&&l.a.createElement(d.a,{variant:"danger"},c),g&&l.a.createElement(d.a,{variant:"success"},g),l.a.createElement(b.a,{onSubmit:function(e){return A.apply(this,arguments)}},l.a.createElement(b.a.Group,{id:"email"},l.a.createElement(b.a.Label,null,"Email"),l.a.createElement(b.a.Control,{type:"email",ref:e,required:!0})),l.a.createElement(p.a,{disabled:O,className:"w-100",type:"submit"},"Reset Password")),l.a.createElement("div",{className:"w-100 text-center mt-3"},l.a.createElement(C.Link,{to:"/login"},"Login")))),l.a.createElement("div",{className:"w-100 text-center mt-2"},"Need an account? ",l.a.createElement(C.Link,{to:"/signup"},"Sign Up")))}function M(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(P,null),"About")}var B=a(24),Q=a(34),z=function(e){return l.a.createElement("div",{className:"PopupMsg-box"},l.a.createElement("div",{className:"box"},e.content))},Y=function(e){return l.a.createElement("div",{className:"PopupMsg-box"},l.a.createElement("div",{className:"mapBox"},e.content))},H=a(82),K=a(83),Z=a(91),J=a(88),X=a(135),W=a(134),_=a(17),$=a.n(_),ee=a(84),te=a.n(ee),ae=a(85),ne=a.n(ae),le=$.a.icon({iconUrl:te.a,iconAnchor:[5,25],popupAnchor:[5,-20],iconSize:[25,25]}),re=($.a.icon({iconUrl:ne.a,iconAnchor:[5,25],popupAnchor:[5,-20],iconSize:[25,25]}),{height:"100vh"}),ce={lat:37.9838,lng:23.7275},oe={LeafletMap:function(e){Object(Z.a)(a,e);var t=Object(J.a)(a);function a(e){var n;return Object(H.a)(this,a),(n=t.call(this,e)).center={lat:n.props.lonitude,lng:n.props.langitude},n}return Object(K.a)(a,[{key:"componentDidMount",value:function(){var e,t=this,a=this.leafletMap.leafletElement,n=$.a.Control.Geocoder.nominatim();a.on("click",(function(l){t.props.setLocationLatlng(l.latlng),n.reverse(l.latlng,a.options.crs.scale(a.getZoom()),(function(n){var l=n[0];l&&(e?(e.setLatLng(l.center,{icon:le}).setPopupContent(l.html||l.name).openPopup(),t.props.setLocationName(l.name)):(e=$.a.marker(l.center,{icon:le}).bindPopup(l.name).addTo(a).openPopup(),t.props.setLocationName(l.name)))}))}))}},{key:"render",value:function(){var e=this;return l.a.createElement(X.a,{style:re,center:ce,zoom:12,ref:function(t){e.leafletMap=t}},l.a.createElement(W.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}))}}]),a}(l.a.Component),geoLatlng:void 0,locationString:void 0};a(53);function ue(){Object(n.useEffect)((function(){window.ga("send",{hitType:"event",eventCategory:"AddPoI",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open AddPoI page"})}),[]);var e=Object(n.useState)({latitude:0,longitude:0}),t=Object(m.a)(e,2),a=t[0],r=t[1];function c(){return v&&w&&j&&T&&F&&K&&U&&void 0!==a.lat?l.a.createElement("button",{className:"btn btn-success btn-lg",type:"submit",onClick:me}," Submit "):l.a.createElement("button",{className:"btn btn-success btn-lg",type:"submit",disabled:!0}," Submit ")}var o=Object(n.useState)("Click 'Map' to set Point of Interest location."),s=Object(m.a)(o,2),d=s[0],b=s[1],p=Object(n.useState)(""),E=Object(m.a)(p,2),v=E[0],g=E[1],h=Object(n.useState)(""),y=Object(m.a)(h,2),w=y[0],O=y[1],N=Object(n.useState)(""),A=Object(m.a)(N,2),j=A[0],k=A[1],L=Object(n.useState)(""),S=Object(m.a)(L,2),T=S[0],D=S[1],I=Object(n.useState)(""),x=Object(m.a)(I,2),F=x[0],R=x[1],G=Object(n.useState)(""),V=Object(m.a)(G,2),U=V[0],q=V[1],M=Object(n.useState)(""),H=Object(m.a)(M,2),K=H[0],Z=H[1],J=Object(n.useState)(!1),X=Object(m.a)(J,2),W=X[0],_=X[1],$=function(e){e.preventDefault(),_(!W),W?window.ga("send",{hitType:"event",eventCategory:"AddPoI",eventAction:"click",eventLabel:Date().toLocaleString()+" - Close map popup"}):window.ga("send",{hitType:"event",eventCategory:"AddPoI",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open map popup"})},ee=Object(n.useState)([]),te=Object(m.a)(ee,2),ae=te[0],ne=te[1],le=function(){var e=Object(i.a)(u.a.mark((function e(t){var a,n,l,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],n=Object(Q.v4)(),l=f.storage().ref("image").child(n),r=f.database().ref("image").child("temp").child(n),e.next=6,l.put(a);case 6:l.getDownloadURL().then((function(e){r.set(e);var t=[].concat(Object(B.a)(ae),[{id:n,url:e}]);ne(t)})),window.ga("send",{hitType:"event",eventCategory:"AddPoI",eventAction:"click",eventLabel:Date().toLocaleString()+" - Read Image"});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=Object(n.useState)(!1),ce=Object(m.a)(re,2),ue=ce[0],ie=ce[1],me=function(e){e.preventDefault(),ie(!ue),ue?window.ga("send",{hitType:"event",eventCategory:"AddPoI",eventAction:"click",eventLabel:Date().toLocaleString()+" - Close popup msg"}):window.ga("send",{hitType:"event",eventCategory:"AddPoI",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open popup msg"})};Object(n.useEffect)((function(){f.database().ref("image").child("temp").on("value",(function(e){var t=e.val(),a=[];for(var n in t)a.push({id:n,url:t[n]});var l=[].concat(Object(B.a)(ae),a);ne(l)}))}),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(P,null),l.a.createElement("div",{className:"formStyle"},l.a.createElement("form",null,l.a.createElement("h2",{className:"text-center"},"Import New POI"),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",onChange:function(e){g(e.target.value)},value:v,placeholder:"Name"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{type:"text",className:"form-control",onChange:function(e){O(e.target.value)},value:w,placeholder:"Description for customer.",rows:"3"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{type:"text",className:"form-control",onChange:function(e){k(e.target.value)},value:j,placeholder:"Description for guide.",rows:"3"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",onChange:function(e){D(e.target.value)},value:T,placeholder:"Type"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",onChange:function(e){R(e.target.value)},value:F,placeholder:"City"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"number",className:"form-control",onChange:function(e){Z(e.target.value)},value:K,placeholder:"Ticket Cost, write 0 if there is no cost."})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"number",className:"form-control",onChange:function(e){q(e.target.value)},value:U,placeholder:"Time needed*"})," ",l.a.createElement("small",{class:"form-text text-primary"},"*insert time in minutes e.x. write 20 for 20 minutes time.")),l.a.createElement("br",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",value:a.lat,placeholder:"Latitude**"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",value:a.lng,placeholder:"Longitude**"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{type:"text",className:"form-control",value:d,placeholder:"Click the 'Map' button to add vehicle's place.",rows:"3"})),l.a.createElement("center",null,l.a.createElement("button",{className:"btn btn-primary btn-lg",type:"submit",onClick:$},l.a.createElement("i",{className:"fas fa-map-marked-alt"},"  Map"))),l.a.createElement("small",{class:"form-text text-primary"},"**Langitude and longitude will be inserted automaticaly when you choose the location from the map."),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("td",null," ",l.a.createElement("h6",null,"Upload Image")," "),l.a.createElement("td",null,l.a.createElement("input",{type:"file",accept:"image/*",onChange:le}),ae?ae.map((function(e){var t=e.id,a=e.url;return l.a.createElement("div",{key:t},l.a.createElement("img",{width:150,height:113,src:a,alt:""}),l.a.createElement("button",{className:"btn btn-danger",onClick:function(){return function(e){var t=f.storage().ref("image").child(e),a=f.database().ref("image").child("temp").child(e);window.ga("send",{hitType:"event",eventCategory:"AddPOI",eventAction:"click",eventLabel:Date().toLocaleString()+" - Delete Image"}),a.remove().then((function(){t.delete()}))}(t)}},l.a.createElement("i",{className:"fa fa-trash-alt"})))})):"")),l.a.createElement("tr",null),l.a.createElement("tr",null,l.a.createElement("div",{className:"form-group"},l.a.createElement(c,null),ue&&l.a.createElement(z,{content:l.a.createElement(l.a.Fragment,null,l.a.createElement("b",null,"Question"),l.a.createElement("p",null,"Are you sure you want to import the Point Of Interest?"),l.a.createElement("center",null,l.a.createElement(C.Link,{to:"/PointOfInterest",className:"btn btn-success btn-lg",onClick:function(){var e=f.database().ref("poi"),t={name:v,descForCustomer:w,descForGuide:j,geoLat:a.lat,geoLng:a.lng,type:T,city:F,time:U,ticketCost:K,imageUrl:ae,location:d};e.push(t),f.database().ref("image").remove(),window.ga("send",{hitType:"event",eventCategory:"AddPoI",eventAction:"click",eventLabel:Date().toLocaleString()+" - Created New PoI"})}},"Yes"," "),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",l.a.createElement("button",{className:"btn btn-warning btn-lg",type:"submit",onClick:me}," ","No"," "))),handleClose:me}),W&&l.a.createElement(Y,{content:l.a.createElement(l.a.Fragment,null,l.a.createElement("center",null,l.a.createElement("h3",null," Insert Point of Interest's location ")),l.a.createElement("div",null,l.a.createElement(oe.LeafletMap,{setLocationLatlng:function(e){r(e)},setLocationName:function(e){b(e),window.ga("send",{hitType:"event",eventCategory:"AddPoI",eventAction:"click",eventLabel:Date().toLocaleString()+" - Set PoI's LatLng"})}})),l.a.createElement("br",null),l.a.createElement("center",null," ",l.a.createElement("button",{className:"btn btn-success btn-lg",type:"submit",onClick:$}," ","Done"," "))),handleClose:$}))))))))}var ie=a(132),me=function(e){return l.a.createElement("div",{className:"PopupMsg-box"},l.a.createElement("div",{className:"popupForCards-box"},e.content))};function se(){function e(){return r&&b&&g&&O&&L&&void 0!==I.lat&&ye.length>0?l.a.createElement("button",{className:"btn btn-success btn-lg",type:"submit",onClick:re}," ","Submit"," "):l.a.createElement("button",{className:"btn btn-success btn-lg",type:"submit",disabled:!0}," ","Submit"," ")}Object(n.useEffect)((function(){window.ga("send",{hitType:"event",eventCategory:"AddTour",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open AddTour page"})}),[]),Object(n.useEffect)((function(){f.database().ref("poi").on("value",(function(e){var t=e.val(),a=[];for(var n in t)a.push(Object(j.a)({id:n},t[n]));ge(a),console.log(a)}))}),[]);var t=Object(n.useState)(""),a=Object(m.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(""),d=Object(m.a)(o,2),b=d[0],p=d[1],E=Object(n.useState)(""),v=Object(m.a)(E,2),g=v[0],h=v[1],y=Object(n.useState)(""),w=Object(m.a)(y,2),O=w[0],N=w[1],A=Object(n.useState)(""),k=Object(m.a)(A,2),L=k[0],S=k[1],T=Object(n.useState)({latitude:0,longitude:0}),D=Object(m.a)(T,2),I=D[0],x=D[1],R=Object(n.useState)(""),G=Object(m.a)(R,2),V=G[0],U=G[1],q=Object(n.useState)("Click the 'Map' button to add the general area of the tour."),M=Object(m.a)(q,2),H=M[0],K=M[1],Z=Object(n.useState)(!1),J=Object(m.a)(Z,2),X=J[0],W=J[1],_=function(e){e.preventDefault(),W(!X),X?window.ga("send",{hitType:"event",eventCategory:"AddTour",eventAction:"click",eventLabel:Date().toLocaleString()+" - Close map popup"}):window.ga("send",{hitType:"event",eventCategory:"AddTour",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open map popup"})},$=Object(n.useState)(!1),ee=Object(m.a)($,2),te=(ee[0],ee[1],Object(n.useState)(!1)),ae=Object(m.a)(te,2),ne=ae[0],le=ae[1],re=function(e){e.preventDefault(),le(!ne),ne?window.ga("send",{hitType:"event",eventCategory:"AddTour",eventAction:"click",eventLabel:Date().toLocaleString()+" - Close popup msg"}):window.ga("send",{hitType:"event",eventCategory:"AddTour",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open popup msg"})},ce=Object(n.useState)(!1),ue=Object(m.a)(ce,2),se=ue[0],de=ue[1],be=function(e){e.preventDefault(),de(!se),se?window.ga("send",{hitType:"event",eventCategory:"AddTour",eventAction:"click",eventLabel:Date().toLocaleString()+" - Close PoI popup"}):window.ga("send",{hitType:"event",eventCategory:"AddTour",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open PoI popup"})},pe=Object(n.useState)(),Ee=Object(m.a)(pe,2),ve=Ee[0],ge=Ee[1],fe=Object(n.useState)([]),he=Object(m.a)(fe,2),ye=he[0],we=he[1],Oe=function(e){var t=Object(B.a)(ye);t=t.filter((function(t){return t.id!==e.id})),we(t),window.ga("send",{hitType:"event",eventCategory:"AddTour",eventAction:"click",eventLabel:Date().toLocaleString()+" - Remove PoI"})},Ce=(ye.map((function(e){return l.a.createElement("div",{key:e.id},"".concat(e.name,": $").concat(e.geoLat),l.a.createElement("input",{type:"submit",value:"remove",onClick:function(){return Oe(e)}}))})),Object(n.useState)([])),Ne=Object(m.a)(Ce,2),Ae=Ne[0],je=Ne[1],ke=function(){var e=Object(i.a)(u.a.mark((function e(t){var a,n,l,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],n=Object(Q.v4)(),l=f.storage().ref("image").child(n),r=f.database().ref("image").child("temp").child(n),e.next=6,l.put(a);case 6:l.getDownloadURL().then((function(e){r.set(e);var t=[].concat(Object(B.a)(Ae),[{id:n,url:e}]);je(t)})),window.ga("send",{hitType:"event",eventCategory:"AddTour",eventAction:"click",eventLabel:Date().toLocaleString()+" - Read Image"});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){f.database().ref("image").child("temp").on("value",(function(e){var t=e.val(),a=[];for(var n in t)a.push({id:n,url:t[n]});var l=[].concat(Object(B.a)(Ae),a);je(l)}))}),[]);var Le=function(e){for(var t=!0,a=0;a<ye.length;a++)ye[a].id===e.id&&(t=!1);return t?l.a.createElement("input",{className:"btn btn-primary",type:"submit",value:"Add to tour",onClick:function(){return function(e){for(var t=!0,a=0;a<ye.length;a++)ye[a].id===e.id&&(t=!1);t&&we([].concat(Object(B.a)(ye),[e])),window.ga("send",{hitType:"event",eventCategory:"AddTour",eventAction:"click",eventLabel:Date().toLocaleString()+" - Add PoI"})}(e)}}):l.a.createElement("input",{className:"btn btn-warning",type:"submit",value:"remove from tour",onClick:function(){return Oe(e)}})},Se=function(e){return e*Math.PI/180},Te=function(e){if(function(e,t){var a=Se(e[1]),n=Se(e[0]),l=Se(t[1]),r=Se(t[0]),c=r-n,o=l-a,u=Math.pow(Math.sin(c/2),2)+Math.cos(n)*Math.cos(r)*Math.pow(Math.sin(o/2),2);return 6371*(2*Math.asin(Math.sqrt(u)))*1e3}([I.lat,I.lng],[e.geoLat,e.geoLng])<1e3*V)return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{className:"card-PoIforTourOnPopup",style:{flex:1}},l.a.createElement(s.a.Body,null,l.a.createElement("div",{key:e.id},l.a.createElement(s.a.Title,null,l.a.createElement("center",null,l.a.createElement("h4",null,"".concat(e.name)))),l.a.createElement(ie.a,null,e.imageUrl?e.imageUrl.map((function(e){var t=e.id,a=e.url;return l.a.createElement(ie.a.Item,{interval:500},l.a.createElement("div",{key:t},l.a.createElement("img",{className:"d-block w-100",src:a,alt:"",width:320,height:225})))})):""),l.a.createElement("br",null),l.a.createElement("b",null,"City:")," ",e.city," ",l.a.createElement("br",null),l.a.createElement("b",null,"type:")," ",e.type," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("b",null,"Decription for Guide :")," ",e.descForGuide," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("b",null,"Decription for Customer:")," ",e.descForCustomer," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("b",null,"Location:")," ",e.location," ",l.a.createElement("br",null))),l.a.createElement(s.a.Footer,null,l.a.createElement("center",null,Le(e)))))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(P,null),l.a.createElement("div",null,l.a.createElement("form",null,l.a.createElement("h2",{className:"text-center"},"Create New Tour"),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",onChange:function(e){c(e.target.value)},value:r,placeholder:"Title"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{type:"text",className:"form-control",onChange:function(e){p(e.target.value)},value:b,placeholder:"Description for customer.",rows:"3"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{type:"text",className:"form-control",onChange:function(e){h(e.target.value)},value:g,placeholder:"Description for guide.",rows:"3"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"number",className:"form-control",onChange:function(e){N(e.target.value)},value:O,placeholder:"Tour Cost*"}),l.a.createElement("small",{class:"form-text text-primary"},"*do not include cost of car, tour guide or tickets.")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"number",className:"form-control",onChange:function(e){S(e.target.value)},value:L,placeholder:"Additional time*"}),l.a.createElement("small",{class:"form-text text-primary"},"*do not include time that will be spend for points of interests.")),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{type:"text",className:"form-control",value:H,placeholder:"Click the 'Map' button to add the general area of the tour.",rows:"3"})," ",l.a.createElement("center",null,l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-primary btn-lg",type:"submit",onClick:_},l.a.createElement("i",{className:"fas fa-map-marked-alt"},"  Map"))),l.a.createElement("small",{class:"form-text text-info"},"Tip: Zooming out helps for selecting a general location name of your tour.")),l.a.createElement("div",null,l.a.createElement("br",null)),l.a.createElement("center",null,void 0!==I.lat?l.a.createElement("button",{className:"btn btn-primary btn-lg",type:"submit",onClick:be}," ","Add PoIs"," "):l.a.createElement("button",{className:"btn btn-primary btn-lg",disabled:!0}," ","Add PoIs"," ")),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("td",null," ",l.a.createElement("h6",null,"Upload Image")," "),l.a.createElement("td",null,l.a.createElement("input",{type:"file",accept:"image/*",onChange:ke}),Ae?Ae.map((function(e){var t=e.id,a=e.url;return l.a.createElement("div",{key:t},l.a.createElement("img",{width:150,height:113,src:a,alt:""}),l.a.createElement("button",{className:"btn btn-danger",onClick:function(){return function(e){var t=f.storage().ref("image").child(e),a=f.database().ref("image").child("temp").child(e);window.ga("send",{hitType:"event",eventCategory:"AddTour",eventAction:"click",eventLabel:Date().toLocaleString()+" - Delete Image"}),a.remove().then((function(){t.delete()}))}(t)}},l.a.createElement("i",{className:"fa fa-trash-alt"})))})):"")),l.a.createElement("tr",null),l.a.createElement("tr",null," ",l.a.createElement("div",{className:"form-group"},l.a.createElement(e,null),ne&&l.a.createElement(z,{content:l.a.createElement(l.a.Fragment,null,l.a.createElement("b",null,"Question"),l.a.createElement("p",null,"Are you sure you want to create this tour?"),l.a.createElement("center",null,l.a.createElement(C.Link,{to:"/Tours",className:"btn btn-success btn-lg",onClick:function(){for(var e=f.database().ref("tour"),t=0,a=0,n=0;n<ye.length;n++)t+=parseFloat(ye[n].ticketCost),a+=parseFloat(ye[n].time);t+=parseFloat(O),a+=parseFloat(L);var l={title:r,descForCustomer:b,descForGuide:g,tourCost:parseFloat(t).toFixed(2),time:parseInt(a),imageUrl:Ae,geoLat:I.lat,geoLong:I.lng,poi:ye};e.push(l),f.database().ref("image").remove(),window.ga("send",{hitType:"event",eventCategory:"AddTour",eventAction:"click",eventLabel:Date().toLocaleString()+" - Created New Tour"})}},"Yes"," "),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",l.a.createElement("button",{className:"btn btn-warning btn-lg",type:"submit",onClick:re}," ","No"," ")))}),X&&l.a.createElement(Y,{content:l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null," Insert Place "),l.a.createElement("div",null,l.a.createElement(oe.LeafletMap,{setLocationLatlng:function(e){x(e),window.ga("send",{hitType:"event",eventCategory:"AddTour",eventAction:"click",eventLabel:Date().toLocaleString()+" - Set Tour's LatLng"})},setLocationName:function(e){K(e)}})),l.a.createElement("br",null),l.a.createElement("center",null," ",l.a.createElement("button",{className:"btn btn-success btn-lg",type:"submit",onClick:_}," ","Done"," ")))}),se&&l.a.createElement(me,{content:l.a.createElement(l.a.Fragment,null,l.a.createElement("h4",null,"Add Points of interest to the Tour"),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"number",className:"form-control",onChange:function(e){U(e.target.value)},value:V,placeholder:"Radius for displaying PoIs*"}),l.a.createElement("small",{class:"form-text text-primary"},"*Ex. Write 20 for displaying PoIs in 20km radius around the area you set for the tour.")),l.a.createElement("center",null,l.a.createElement("div",null,l.a.createElement("center",null,l.a.createElement(F.a,null,ve?ve.map((function(e){return Te(e)})):""))),l.a.createElement("br",null)," ",l.a.createElement("button",{className:"btn btn-success btn-lg",type:"submit",onClick:be}," ","Done"," ")))}))))))))}function de(){Object(n.useEffect)((function(){window.ga("send",{hitType:"event",eventCategory:"AddTourGuide",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open AddTourGuide page"})}),[]);var e=Object(n.useState)({latitude:0,longitude:0}),t=Object(m.a)(e,2),a=t[0],r=t[1];function c(){return v&&w&&j&&T&&F&&void 0!==a.lat?l.a.createElement("button",{className:"btn btn-success btn-lg",type:"submit",onClick:X}," Submit "):l.a.createElement("button",{className:"btn btn-success btn-lg",type:"submit",disabled:!0}," Submit ")}var o=Object(n.useState)("Click 'Map' to set tour guide's address."),s=Object(m.a)(o,2),d=s[0],b=s[1],p=Object(n.useState)(""),E=Object(m.a)(p,2),v=E[0],g=E[1],h=Object(n.useState)(""),y=Object(m.a)(h,2),w=y[0],O=y[1],N=Object(n.useState)(""),A=Object(m.a)(N,2),j=A[0],k=A[1],L=Object(n.useState)(""),S=Object(m.a)(L,2),T=S[0],D=S[1],I=Object(n.useState)(""),x=Object(m.a)(I,2),F=x[0],R=x[1],G=Object(n.useState)(!1),V=Object(m.a)(G,2),U=V[0],q=V[1],M=function(e){e.preventDefault(),q(!U),U?window.ga("send",{hitType:"event",eventCategory:"AddTourGUide",eventAction:"click",eventLabel:Date().toLocaleString()+" - Close map popup"}):window.ga("send",{hitType:"event",eventCategory:"AddTourGuide",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open map popup"})},H=Object(n.useState)(!1),K=Object(m.a)(H,2),Z=K[0],J=K[1],X=function(e){e.preventDefault(),J(!Z),Z?window.ga("send",{hitType:"event",eventCategory:"AddTourGuide",eventAction:"click",eventLabel:Date().toLocaleString()+" - Close popup msg"}):window.ga("send",{hitType:"event",eventCategory:"AddTourGuide",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open popup msg"})},W=Object(n.useState)([]),_=Object(m.a)(W,2),$=_[0],ee=_[1],te=function(){var e=Object(i.a)(u.a.mark((function e(t){var a,n,l,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],n=Object(Q.v4)(),l=f.storage().ref("image").child(n),r=f.database().ref("image").child("temp").child(n),e.next=6,l.put(a);case 6:l.getDownloadURL().then((function(e){r.set(e);var t=[].concat(Object(B.a)($),[{id:n,url:e}]);ee(t)})),window.ga("send",{hitType:"event",eventCategory:"AddTourGuide",eventAction:"click",eventLabel:Date().toLocaleString()+" - Read Image"});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){f.database().ref("image").child("temp").on("value",(function(e){var t=e.val(),a=[];for(var n in t)a.push({id:n,url:t[n]});var l=[].concat(Object(B.a)($),a);ee(l)}))}),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(P,null),l.a.createElement("div",{className:"formStyle"},l.a.createElement("form",null,l.a.createElement("h2",{className:"text-center"},"Import New Tour Guide"),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",onChange:function(e){g(e.target.value)},value:v,placeholder:"Name"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"number",className:"form-control",onChange:function(e){O(e.target.value)},value:w,placeholder:"Age"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",onChange:function(e){k(e.target.value)},value:j,placeholder:"Languages"}),l.a.createElement("small",{class:"form-text text-info"},"*Tip: You can type short versions for countries eg GR, EN, FR")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",onChange:function(e){D(e.target.value)},value:T,placeholder:"Phone"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"email",className:"form-control",onChange:function(e){R(e.target.value)},value:F,placeholder:"email"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{type:"text",className:"form-control",value:d,placeholder:"Address *",rows:"3"})),l.a.createElement("center",null,l.a.createElement("button",{className:"btn btn-primary btn-lg",type:"submit",onClick:M},l.a.createElement("i",{className:"fas fa-map-marked-alt"},"  Map")),l.a.createElement("small",{class:"form-text text-primary"},"*Click the 'Map' button to find and add tour guide's address.")),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("td",null," ",l.a.createElement("h6",null,"Upload Image")," "),l.a.createElement("td",null,l.a.createElement("input",{type:"file",accept:"image/*",onChange:te}),$?$.map((function(e){var t=e.id,a=e.url;return l.a.createElement("div",{key:t},l.a.createElement("img",{width:150,height:113,src:a,alt:""}),l.a.createElement("button",{className:"btn btn-danger",onClick:function(){return function(e){var t=f.storage().ref("image").child(e),a=f.database().ref("image").child("temp").child(e);window.ga("send",{hitType:"event",eventCategory:"AddTourGuide",eventAction:"click",eventLabel:Date().toLocaleString()+" - Delete Image"}),a.remove().then((function(){t.delete()}))}(t)}},l.a.createElement("i",{className:"fa fa-trash-alt"})))})):"")),l.a.createElement("tr",null),l.a.createElement("tr",null," ",l.a.createElement("div",{className:"form-group"},l.a.createElement(c,null),Z&&l.a.createElement(z,{content:l.a.createElement(l.a.Fragment,null,l.a.createElement("b",null,"Question"),l.a.createElement("p",null,"Are you sure you want to import the tour guide?"),l.a.createElement("center",null,l.a.createElement(C.Link,{to:"/TourGuides",className:"btn btn-success btn-lg",onClick:function(){var e=f.database().ref("tourGuide"),t={name:v,age:w,languages:j,address:d,telephone:T,email:F,availableForHire:!0,imageUrl:$,geoLat:a.lat,geoLong:a.lng,location:d};e.push(t),f.database().ref("image").remove(),window.ga("send",{hitType:"event",eventCategory:"AddTourGuide",eventAction:"click",eventLabel:Date().toLocaleString()+" - Created New TourGuide"})}},"Yes"," "),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",l.a.createElement("button",{className:"btn btn-warning btn-lg",type:"submit",onClick:X}," ","No"," "))),handleClose:X}),U&&l.a.createElement(Y,{content:l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null," Insert tour guide's address "),l.a.createElement("div",null,l.a.createElement(oe.LeafletMap,{setLocationLatlng:function(e){r(e),window.ga("send",{hitType:"event",eventCategory:"AddTourGuide",eventAction:"click",eventLabel:Date().toLocaleString()+" - Set TourGuide's LatLng"})},setLocationName:function(e){b(e)}})),l.a.createElement("center",null," ",l.a.createElement("button",{className:"btn btn-danger btn-lg",type:"submit",onClick:M}," ","Cancel"," "),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",l.a.createElement("button",{className:"btn btn-success btn-lg",type:"submit",onClick:M}," ","Accept"," "))),handleClose:M}))))))))}function be(){Object(n.useEffect)((function(){window.ga("send",{hitType:"event",eventCategory:"AddVehicle",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open AddVehicle page"})}),[]);var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(m.a)(c,2),s=o[0],d=o[1],b=Object(n.useState)(""),p=Object(m.a)(b,2),E=p[0],v=p[1],g=Object(n.useState)(""),h=Object(m.a)(g,2),y=h[0],w=h[1],O=Object(n.useState)(""),N=Object(m.a)(O,2),A=N[0],j=N[1],k=Object(n.useState)(""),L=Object(m.a)(k,2),S=L[0],T=L[1],D=Object(n.useState)(""),I=Object(m.a)(D,2),x=I[0],F=I[1],R=Object(n.useState)([]),G=Object(m.a)(R,2),V=G[0],U=G[1],q=Object(n.useState)(!1),M=Object(m.a)(q,2),H=M[0],K=M[1],Z=Object(n.useState)(!1),J=Object(m.a)(Z,2),X=J[0],W=J[1];function _(){return a&&s&&E&&y&&A&&S&&x&&void 0!==te.lat?l.a.createElement("button",{className:"btn btn-success btn-lg",type:"submit",onClick:ie}," ","Submit"," "):l.a.createElement("button",{className:"btn btn-success btn-lg",type:"submit",disabled:!0}," ","Submit"," ")}var $=Object(n.useState)({latitude:0,longitude:0}),ee=Object(m.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)("Click 'Map' to set vehicle's location."),le=Object(m.a)(ne,2),re=le[0],ce=le[1],ue=function(e){e.preventDefault(),W(!X),X?window.ga("send",{hitType:"event",eventCategory:"AddVehicle",eventAction:"click",eventLabel:Date().toLocaleString()+" - Close map popup"}):window.ga("send",{hitType:"event",eventCategory:"AddVehicle",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open map popup"})},ie=function(e){e.preventDefault(),K(!H),H?window.ga("send",{hitType:"event",eventCategory:"AddVehicle",eventAction:"click",eventLabel:Date().toLocaleString()+" - Close popup msg"}):window.ga("send",{hitType:"event",eventCategory:"AddVehicle",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open popup msg"})},me=function(){var e=Object(i.a)(u.a.mark((function e(t){var a,n,l,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],n=Object(Q.v4)(),l=f.storage().ref("image").child(n),r=f.database().ref("image").child("temp").child(n),e.next=6,l.put(a);case 6:l.getDownloadURL().then((function(e){r.set(e);var t=[].concat(Object(B.a)(V),[{id:n,url:e}]);U(t)})),window.ga("send",{hitType:"event",eventCategory:"AddVehicle",eventAction:"click",eventLabel:Date().toLocaleString()+" - Read Image"});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){f.database().ref("image").child("temp").on("value",(function(e){var t=e.val(),a=[];for(var n in t)a.push({id:n,url:t[n]});var l=[].concat(Object(B.a)(V),a);U(l)}))}),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(P,null),l.a.createElement("div",{className:"formStyle"},l.a.createElement("form",null,l.a.createElement("h2",{className:"text-center"},"Import New Vehicle"),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",onChange:function(e){r(e.target.value)},value:a,placeholder:"Title"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",onChange:function(e){d(e.target.value)},value:s,placeholder:"Type"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"number",className:"form-control",onChange:function(e){v(e.target.value)},value:E,placeholder:"Number of passengers"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",onChange:function(e){w(e.target.value)},value:y,placeholder:"Fuel"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"number",className:"form-control",onChange:function(e){j(e.target.value)},value:A,placeholder:"Year"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"number",className:"form-control",onChange:function(e){T(e.target.value)},value:S,placeholder:"Cost per hour"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",onChange:function(e){F(e.target.value)},value:x,placeholder:"WiFi"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{type:"text",className:"form-control",value:re,placeholder:"Click the 'Map' button to add vehicle's location.",rows:"3"})),l.a.createElement("center",null,l.a.createElement("button",{className:"btn btn-primary btn-lg",type:"submit",onClick:ue},l.a.createElement("i",{className:"fas fa-map-marked-alt"},"  Map"))),l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("td",null," ",l.a.createElement("h6",null,"Upload Image")," "),l.a.createElement("td",null,l.a.createElement("input",{type:"file",accept:"image/*",onChange:me}),V?V.map((function(e){var t=e.id,a=e.url;return l.a.createElement("div",{key:t},l.a.createElement("img",{width:150,height:113,src:a,alt:""}),l.a.createElement("button",{className:"btn btn-danger",onClick:function(){return function(e){var t=f.storage().ref("image").child(e),a=f.database().ref("image").child("temp").child(e);window.ga("send",{hitType:"event",eventCategory:"AddVehicle",eventAction:"click",eventLabel:Date().toLocaleString()+" - Delete Image"}),a.remove().then((function(){t.delete()}))}(t)}},l.a.createElement("i",{className:"fa fa-trash-alt"})))})):"")),l.a.createElement("tr",null),l.a.createElement("tr",null," ",l.a.createElement("div",{className:"form-group"},l.a.createElement(_,null),H&&l.a.createElement(z,{content:l.a.createElement(l.a.Fragment,null,l.a.createElement("b",null,"Question"),l.a.createElement("p",null,"Are you sure you want to import the vehicle?"),l.a.createElement("center",null,l.a.createElement(C.Link,{to:"/Vehicles",className:"btn btn-success btn-lg",onClick:function(){var e=f.database().ref("vehicle"),t={title:a,type:s,passengers:E,fuel:y,year:A,cph:S,wiFi:x,location:re,availableForRent:!0,imageUrl:V,geoLat:te.lat,geoLong:te.lng};e.push(t),f.database().ref("image").remove(),window.ga("send",{hitType:"event",eventCategory:"AddVehicle",eventAction:"click",eventLabel:Date().toLocaleString()+" - Created New Vehicle"})}},"Yes"," "),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",l.a.createElement("button",{className:"btn btn-warning btn-lg",type:"submit",onClick:ie}," ","No"," "))),handleClose:ie}),X&&l.a.createElement(Y,{content:l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null," Insert vehicle's location "),l.a.createElement("div",null,l.a.createElement(oe.LeafletMap,{setLocationLatlng:function(e){ae(e),window.ga("send",{hitType:"event",eventCategory:"AddVehicle",eventAction:"click",eventLabel:Date().toLocaleString()+" - Set Vehicle's LatLng"})},setLocationName:function(e){ce(e)}})),l.a.createElement("br",null),l.a.createElement("center",null," ",l.a.createElement("button",{className:"btn btn-success btn-lg",type:"submit",onClick:ue}," ","Done"," "))),handleClose:ue}))))))))}var pe=a(128);function Ee(e){var t=e.poi,a=Object(n.useState)(!1),r=Object(m.a)(a,2),c=r[0],o=r[1],u=function(e){e.preventDefault(),o(!c),c||window.ga("send",{hitType:"event",eventCategory:"ViewPoIs",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open popup msg"})};return l.a.createElement("div",null,l.a.createElement(s.a,{className:"cardItem",style:{flex:1}},l.a.createElement(s.a.Body,null,l.a.createElement(pe.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("b",null,l.a.createElement("center",null,l.a.createElement(ie.a,null,t.imageUrl?t.imageUrl.map((function(e){var t=e.id,a=e.url;return l.a.createElement(ie.a.Item,{interval:500},l.a.createElement("div",{key:t},l.a.createElement("img",{className:"d-block w-100",src:a,alt:"",width:320,height:225})))})):""))))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("b",null,l.a.createElement(s.a.Title,null,l.a.createElement("center",null," ",l.a.createElement("h2",null,t.name)))))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("b",null,"Description Customer:")," ",t.descForCustomer)),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("b",null,"Description Guide:")," ",t.descForGuide)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"City:"),l.a.createElement("br",null)," ",t.city),l.a.createElement("td",null,l.a.createElement("b",null,"Type:"),l.a.createElement("br",null)," ",t.type)),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("b",null,"Location:")," ",t.location)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"POI Cost:")," ",t.ticketCost," \u20ac"),l.a.createElement("td",null,l.a.createElement("b",null,"Time:")," ",t.time,"'"))))),l.a.createElement(s.a.Footer,null,l.a.createElement("center",null,l.a.createElement("button",{className:"btn btn-danger",onClick:u},l.a.createElement("i",{className:"fa fa-trash-alt"}))))),c&&l.a.createElement(z,{content:l.a.createElement(l.a.Fragment,null,l.a.createElement("b",null,"Question"),l.a.createElement("p",null,"Are you sure you want to delete this POI?"),l.a.createElement("center",null,l.a.createElement("button",{className:"btn btn-danger btn-lg",type:"submit",onClick:function(){f.database().ref("poi").child(t.id).remove(),o(!c),window.ga("send",{hitType:"event",eventCategory:"ViewPoIs",eventAction:"click",eventLabel:Date().toLocaleString()+" - Delete PoI"})}}," ","Yes"," "),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",l.a.createElement("button",{className:"btn btn-warning btn-lg",type:"submit",onClick:u}," ","No"," "))),handleClose:u}))}function ve(){var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){window.ga("send",{hitType:"event",eventCategory:"ViewPoIs",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open PoIs page"})}),[]),Object(n.useEffect)((function(){f.database().ref("poi").on("value",(function(e){var t=e.val(),a=[];for(var n in t)a.push(Object(j.a)({id:n},t[n]));r(a)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(P,null),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("b",null,"Points Of Interest ",">"," All Points Of Interest "),l.a.createElement(F.a,null,a?a.map((function(e,t){return l.a.createElement(Ee,{poi:e,key:t})})):"")))}function ge(e){var t=e.request,a=Object(n.useState)(!1),r=Object(m.a)(a,2),c=r[0],o=r[1],u=function(e){e.preventDefault(),o(!c),c||window.ga("send",{hitType:"event",eventCategory:"RentRequest",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open popup msg"})},i=function(){var e=f.database().ref("rentRequest").child(t.id);"Accepted"==t.status?(e.update({status:"Ready"}),window.ga("send",{hitType:"event",eventCategory:"RentRequest",eventAction:"click",eventLabel:Date().toLocaleString()+" - Request status: Ready"})):(e.update({status:"Accepted"}),window.ga("send",{hitType:"event",eventCategory:"RentRequest",eventAction:"click",eventLabel:Date().toLocaleString()+" - Request status: Accepted"}))};function d(){return t.isAccepted?l.a.createElement("button",{className:"btn btn-success",onClick:i},l.a.createElement("i",{className:"fas fa-check"})):l.a.createElement("button",{className:"btn btn-success",disabled:!0},l.a.createElement("i",{className:"fas fa-check"}))}return l.a.createElement("div",null,l.a.createElement(s.a,{className:"cardItem",style:{flex:1}},l.a.createElement(s.a.Body,null,l.a.createElement(pe.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("b",null,l.a.createElement("center",null,l.a.createElement("b",null,"Request Id:")," ",t.id)))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement(s.a.Title,null,l.a.createElement("center",null,l.a.createElement("b",null,"Tour: ")," ",t.selectedTourTitle)))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("center",null,l.a.createElement("b",null,"Car:")," ",t.selectedCarTitle))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("center",null,l.a.createElement("b",null,"Start Location: ")," ",t.startLocationName))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("center",null,l.a.createElement("b",null,"Finish Location: ")," ",t.finishLocationName))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("center",null,l.a.createElement("b",null,"Requested by: ")," ",t.user)),l.a.createElement("td",null,l.a.createElement("center",null,l.a.createElement("b",null,"Total Cost: ")," ",t.totalCost))),l.a.createElement("tr",null,l.a.createElement("td",{colspan:"2"},l.a.createElement("b",null,"Status: ")," ",t.status)),l.a.createElement("tr",null,l.a.createElement("td",{colspan:"2"},l.a.createElement("b",null,"Assigned to: ")," ",t.assignedTourGuide)),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("center",null,t.isAccepted?l.a.createElement("b",{style:{color:"green"}},"Assigned"):l.a.createElement("b",{style:{color:"red"}},"Unassigned")," ")))))),l.a.createElement(s.a.Footer,null,l.a.createElement("center",null,l.a.createElement("button",{className:"btn btn-danger",onClick:u},l.a.createElement("i",{className:"fa fa-trash-alt"})),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",l.a.createElement(d,null)))),c&&l.a.createElement(z,{content:l.a.createElement(l.a.Fragment,null,l.a.createElement("b",null,"Question"),l.a.createElement("p",null,"Are you sure you want to delete this rent request?"),l.a.createElement("center",null,l.a.createElement("button",{className:"btn btn-danger btn-lg",type:"submit",onClick:function(){f.database().ref("rentRequest").child(t.id).remove(),o(!c),window.ga("send",{hitType:"event",eventCategory:"RentRequest",eventAction:"click",eventLabel:Date().toLocaleString()+" - Delete request"})}}," ","Yes"," "),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",l.a.createElement("button",{className:"btn btn-warning btn-lg",type:"submit",onClick:u}," ","No"," "))),handleClose:u}))}function fe(){Object(n.useEffect)((function(){window.ga("send",{hitType:"event",eventCategory:"RentRequest",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open RentRequest page"})}),[]);var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){f.database().ref("rentRequest").on("value",(function(e){var t=e.val(),a=[];for(var n in t)a.push(Object(j.a)({id:n},t[n]));r(a)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(P,null),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("b",null,"Rent Requests"),l.a.createElement(F.a,null,a?a.map((function(e,t){return l.a.createElement(ge,{request:e,key:t})})):"")))}function he(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(P,null),"Settings")}function ye(e){var t=e.tour,a=Object(n.useState)(),r=Object(m.a)(a,2),c=r[0],o=r[1];Object(n.useEffect)((function(){f.database().ref("poi").on("value",(function(e){var t=e.val(),a=[];for(var n in t)a.push(Object(j.a)({id:n},t[n]));o(a),console.log(a)}))}),[]);var u=Object(n.useState)(!1),i=Object(m.a)(u,2),d=i[0],b=i[1],p=function(e){e.preventDefault(),b(!d),d||window.ga("send",{hitType:"event",eventCategory:"ViewTours",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open popup msg"})},E=Object(n.useState)(!1),v=Object(m.a)(E,2),g=v[0],h=v[1],y=function(e){e.preventDefault(),h(!g),g?window.ga("send",{hitType:"event",eventCategory:"ViewTours",eventAction:"click",eventLabel:Date().toLocaleString()+" - Close PoIs popup"}):window.ga("send",{hitType:"event",eventCategory:"ViewTours",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open PoIs popup"})};return l.a.createElement("div",null,l.a.createElement(s.a,{className:"cardItem",style:{flex:1}},l.a.createElement(s.a.Body,null,l.a.createElement(pe.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("b",null,l.a.createElement("center",null,l.a.createElement(ie.a,null,t.imageUrl?t.imageUrl.map((function(e){var t=e.id,a=e.url;return l.a.createElement(ie.a.Item,{interval:500},l.a.createElement("div",{key:t},l.a.createElement("img",{className:"d-block w-100",src:a,alt:"",width:320,height:225})))})):"",t.poi?t.poi.map((function(e){e.city,e.decription,e.geoLat,e.geoLng,e.id;var t=e.imageUrl,a=e.name;e.ticketCost,e.time,e.type;return l.a.createElement(ie.a.Item,{interval:500},l.a.createElement("div",{key:t[0].id},l.a.createElement("img",{className:"d-block w-100",src:t[0].url,alt:"",width:320,height:225})),l.a.createElement(ie.a.Caption,null,l.a.createElement("p",{className:"borderText"},a)))})):""))))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement(s.a.Title,null,l.a.createElement("center",null,l.a.createElement("h4",null,t.title))))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("b",null,"Description Customer:")," ",t.descForCustomer)),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("b",null,"Description Guide:")," ",t.descForGuide)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Tour Cost:")," ",t.tourCost," \u20ac"),l.a.createElement("td",null,l.a.createElement("b",null,"Time:")," ",t.time,"'"))))),l.a.createElement(s.a.Footer,null,l.a.createElement("center",null,l.a.createElement("button",{className:"btn btn-danger",onClick:p},l.a.createElement("i",{className:"fa fa-trash-alt"}))," ","\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",l.a.createElement("button",{className:"btn btn-secondary",onClick:y},l.a.createElement(l.a.Fragment,null,"Tour Pois - ",l.a.createElement("i",{class:"fa fa-map-marker-alt","aria-hidden":"true"})))))),d&&l.a.createElement(z,{content:l.a.createElement(l.a.Fragment,null,l.a.createElement("b",null,"Question"),l.a.createElement("p",null,"Are you sure you want to delete this tour?"),l.a.createElement("center",null,l.a.createElement("button",{className:"btn btn-danger btn-lg",type:"submit",onClick:function(){f.database().ref("tour").child(t.id).remove(),b(!d),window.ga("send",{hitType:"event",eventCategory:"ViewVehicles",eventAction:"click",eventLabel:Date().toLocaleString()+" - Delete Tour"})}}," ","Yes"," "),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",l.a.createElement("button",{className:"btn btn-warning btn-lg",type:"submit",onClick:p}," ","No"," "))),handleClose:p}),g&&l.a.createElement(me,{content:l.a.createElement(l.a.Fragment,null,l.a.createElement("b",null,"Points of Interests"),l.a.createElement("div",null,l.a.createElement("center",null,l.a.createElement(F.a,null,c?c.map((function(e){return function(e){for(var a in t.poi)if(t.poi[a].id===e.id)return l.a.createElement(l.a.Fragment,null,l.a.createElement("center",null,l.a.createElement("br",null),l.a.createElement(s.a,{className:"card-PoIforTourOnPopup",style:{flex:1}},l.a.createElement(s.a.Body,null,l.a.createElement("div",{key:e.id},l.a.createElement(s.a.Title,null,l.a.createElement("center",null,l.a.createElement("h4",null,"".concat(e.name)))),l.a.createElement(ie.a,null,e.imageUrl?e.imageUrl.map((function(e){var t=e.id,a=e.url;return l.a.createElement(ie.a.Item,{interval:500},l.a.createElement("div",{key:t},l.a.createElement("img",{className:"d-block w-100",src:a,alt:"",width:320,height:225})))})):""),l.a.createElement("br",null),l.a.createElement("b",null,"City:")," ",e.city," ",l.a.createElement("br",null),l.a.createElement("b",null,"type:")," ",e.type," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("b",null,"Decription:")," ",e.descForCustomer," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("b",null,"Location:")," ",e.location," ",l.a.createElement("br",null))),l.a.createElement(s.a.Footer,null))))}(e)})):""))),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement("button",{className:"btn btn-warning btn-lg",type:"submit",onClick:y}," ","OK"," "))),handleClose:p}))}function we(){var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){window.ga("send",{hitType:"event",eventCategory:"ViewTours",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open Tours page"})}),[]),Object(n.useEffect)((function(){f.database().ref("tour").on("value",(function(e){var t=e.val(),a=[];for(var n in t)a.push(Object(j.a)({id:n},t[n]));r(a)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(P,null),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("b",null,"Tours ",">"," All Tours "),l.a.createElement(F.a,null,a?a.map((function(e,t){return l.a.createElement(ye,{tour:e,key:t})})):"")))}function Oe(e){var t=e.tourGuide,a=Object(n.useState)(!1),r=Object(m.a)(a,2),c=r[0],o=r[1],u=function(e){e.preventDefault(),o(!c)};return l.a.createElement("div",null,l.a.createElement("h4",{className:t.complete?"availableForHire":""}),l.a.createElement(s.a,{className:"cardItem",style:{flex:1}},l.a.createElement(s.a.Body,null,l.a.createElement(pe.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("b",null,l.a.createElement("center",null,l.a.createElement(ie.a,null,t.imageUrl?t.imageUrl.map((function(e){var t=e.id,a=e.url;return l.a.createElement(ie.a.Item,{interval:500},l.a.createElement("div",{key:t},l.a.createElement("img",{className:"d-block w-100",src:a,alt:"",width:320,height:225})))})):""))))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("b",null,l.a.createElement(s.a.Title,null,l.a.createElement("center",null,l.a.createElement("h4",null,t.name)))))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Age:")," ",t.age),l.a.createElement("td",null,l.a.createElement("b",null))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("b",null,"Languages:")," ",t.languages)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Tel.:")," ",t.telephone),l.a.createElement("td",null,l.a.createElement("b",null,"Email:")," ",t.email)),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("b",null,"Address:")," ",t.address)),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("center",null,t.availableForHire?l.a.createElement("b",{style:{color:"green"}},"Available"):l.a.createElement("b",{style:{color:"red"}},"Not available")," ")))))),l.a.createElement(s.a.Footer,null,l.a.createElement("center",null,l.a.createElement("button",{className:"btn btn-danger",onClick:u},l.a.createElement("i",{className:"fa fa-trash-alt"})),l.a.createElement("button",{className:"btn btn-dark",onClick:function(){f.database().ref("tourGuide").child(t.id).update({availableForHire:!t.availableForHire})}},l.a.createElement("b",null,"toggle availability"))))),c&&l.a.createElement(z,{content:l.a.createElement(l.a.Fragment,null,l.a.createElement("b",null,"Question"),l.a.createElement("p",null,"Are you sure you want to delete this tour guide?"),l.a.createElement("center",null,l.a.createElement("button",{className:"btn btn-danger btn-lg",type:"submit",onClick:function(){f.database().ref("tourGuide").child(t.id).remove(),o(!c)}}," ","Yes"," "),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",l.a.createElement("button",{className:"btn btn-warning btn-lg",type:"submit",onClick:u}," ","No"," "))),handleClose:u}))}function Ce(){var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){f.database().ref("tourGuide").on("value",(function(e){var t=e.val(),a=[];for(var n in t)a.push(Object(j.a)({id:n},t[n]));r(a)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(P,null),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("b",null,"Tour Guides ",">"," All Tour Guides "),l.a.createElement(F.a,null,a?a.map((function(e,t){return l.a.createElement(Oe,{tourGuide:e,key:t})})):"")))}function Ne(e){var t=e.vehicle,a=Object(n.useState)(!1),r=Object(m.a)(a,2),c=r[0],o=r[1],u=function(e){e.preventDefault(),o(!c),c||window.ga("send",{hitType:"event",eventCategory:"ViewVehicles",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open popup msg"})};return l.a.createElement("div",null,l.a.createElement("h4",{className:t.complete?"availableForRent":""}),l.a.createElement(s.a,{className:"cardItem",style:{flex:1}},l.a.createElement(s.a.Body,null,l.a.createElement(pe.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("b",null,l.a.createElement("center",null,l.a.createElement(ie.a,null,t.imageUrl?t.imageUrl.map((function(e){var t=e.id,a=e.url;return l.a.createElement(ie.a.Item,{interval:500},l.a.createElement("div",{key:t},l.a.createElement("img",{className:"d-block w-100",src:a,alt:"",width:320,height:225})))})):""))))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement(s.a.Title,null,l.a.createElement("center",null,l.a.createElement("h4",null,t.title))))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Type:")," ",t.type),l.a.createElement("td",null,l.a.createElement("b",null,"Passengers #:")," ",t.passengers)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Fuel:")," ",t.fuel),l.a.createElement("td",null,l.a.createElement("b",null,"Year:")," ",t.year)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Cost/h:")," ",t.cph),l.a.createElement("td",null,l.a.createElement("b",null,"WiFi:")," ",t.wiFi)),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("b",null,"Location:")," ",t.location)),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement("center",null,t.availableForRent?l.a.createElement("b",{style:{color:"green"}},"Available"):l.a.createElement("b",{style:{color:"red"}},"Not available")," ")))))),l.a.createElement(s.a.Footer,null,l.a.createElement("center",null,l.a.createElement("button",{className:"btn btn-danger",onClick:u},l.a.createElement("i",{className:"fa fa-trash-alt"})),l.a.createElement("button",{className:"btn btn-dark",onClick:function(){f.database().ref("vehicle").child(t.id).update({availableForRent:!t.availableForRent}),window.ga("send",{hitType:"event",eventCategory:"ViewVehicles",eventAction:"click",eventLabel:Date().toLocaleString()+" - Set Vehicles Availability"})}},l.a.createElement("b",null,"toggle availability"))))),c&&l.a.createElement(z,{content:l.a.createElement(l.a.Fragment,null,l.a.createElement("b",null,"Question"),l.a.createElement("p",null,"Are you sure you want to delete this vehicle?"),l.a.createElement("center",null,l.a.createElement("button",{className:"btn btn-danger btn-lg",type:"submit",onClick:function(){f.database().ref("vehicle").child(t.id).remove(),o(!c),window.ga("send",{hitType:"event",eventCategory:"ViewVehicles",eventAction:"click",eventLabel:Date().toLocaleString()+" - Delete Vehicle"})}}," ","Yes"," "),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",l.a.createElement("button",{className:"btn btn-warning btn-lg",type:"submit",onClick:u}," ","No"," "))),handleClose:u}))}function Ae(){var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){window.ga("send",{hitType:"event",eventCategory:"ViewVehicles",eventAction:"click",eventLabel:Date().toLocaleString()+" - Open Vehicles page"})}),[]),Object(n.useEffect)((function(){f.database().ref("vehicle").on("value",(function(e){var t=e.val(),a=[];for(var n in t)a.push(Object(j.a)({id:n},t[n]));r(a)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(P,null),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("b",null,"Vehicles ",">"," All Vehicles "),l.a.createElement(F.a,null,a?a.map((function(e,t){return l.a.createElement(Ne,{vehicle:e,key:t})})):"")))}var je=a(86),ke=a.n(je),Le=a(63);var Se=function(){return l.a.createElement(A.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"}},l.a.createElement("div",{className:"appStyles"},l.a.createElement("div",null,l.a.createElement(C.BrowserRouter,null,l.a.createElement(ke.a,{id:"UA-187590481-1",debug:!0},l.a.createElement(w,null,l.a.createElement(O.g,null,l.a.createElement(U,{exact:!0,path:"/",component:R}),l.a.createElement(U,{path:"/update-profile",component:T}),l.a.createElement(U,{path:"/About",component:M}),l.a.createElement(U,{path:"/AddPointOfInterest",component:ue}),l.a.createElement(U,{path:"/AddTour",component:se}),l.a.createElement(U,{path:"/AddTourGuide",component:de}),l.a.createElement(U,{path:"/AddVehicle",component:be}),l.a.createElement(U,{path:"/PointOfInterest",component:ve}),l.a.createElement(U,{path:"/Profile",component:D}),l.a.createElement(U,{path:"/RentRequests",component:fe}),l.a.createElement(U,{path:"/Settings",component:he}),l.a.createElement(U,{path:"/TourGuides",component:Ce}),l.a.createElement(U,{path:"/Tours",component:we}),l.a.createElement(U,{path:"/Vehicles",component:Ae}),l.a.createElement(O.d,{path:"/signup",component:N}),l.a.createElement(O.d,{path:"/login",component:G}),l.a.createElement(O.d,{path:"/forgot-password",component:q}))))))))};a(118),a(119),a(120);Le.a.initialize("G-2L4RNRB6BT"),Le.a.pageview(window.location.pathname+window.location.search),c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Se,null)),document.getElementById("root"))},78:function(e,t,a){e.exports=a.p+"static/media/logo-64x128.8147dd67.png"},84:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAEYklEQVRIia2WT0zbVhzHv7YTQxKSNAmETg1jazlUYtKE+L+qVKMCqaetEjmhSWOttHVMlXbqbeppmiZtQhoV4rAeJu2woU1TLxEUBIh2LWIlgwJrxbK1I5AmwQ6xE+eP7ecd1m5NcIJD9zt+39ffj9/vPb9nCgZr3e9nBZ4/z7DsIDStjaiqBwBohuEoYElRlG8dLtdPzRMTeSN5lBHT3f7+AQoYtTqdFpfP57C53WAtFgBAPptFmuOQ2NoSMqIoqao63D09/eMLgb/3+5lGQRhhTKahxpYWW43HUzYsxfN4vLycVlT1686uro+pq1dJKS9dLqhREEYsdvvQyZ6eA6EAUON24+SZM7Zqm+3C0p07X5bzlgTf7e8fYEymoePt7TaGZQ+EPivGbEZTZ6eNNpku/nz27NulfLqtXvf72VQy+dfxjo764pkmo1HEw2FIu7sAAGttHep8x+Csry/wpXgefywuRmuczpf1NpxJDyzw/Hmby2UthkY2N8HHYjg6fBkNLa3/AFaC2BkfgySKeKmp6V9vjdsNq8NhSXLcWwAmihm6rWbM5kF3Q4O9eKZ8LIYT49fhOHUatNUK2mqFo/sUXv1qDHw0imQ0WpDjamhwMCw7qMfQX2NNa7O53QVSPBzG0eHLYOz2fXbGbkf9pY8Q394u0G0eD2hNazcM1ghxm6urC7QMx6HmaXv1yt7aDonjCjRzVRUIIbqfgy6YaJqJogydLc+9rbZPoigKmqYxhsEUTXM5SSrQLJ5apFaCJbni8i+wFm3GXDoNimHihsEMTW/kRLFAq/MdQ2x8DGqRDgCqICA6Ngqvz1egZ0URFEWtGwarsjwl7u5mn9ec9fU44jqC0PvvIbkwDyJJIJKE5MI8Qh9cgNvrhcPrLcgR4/EMUZRJPYbuQt7u7T1hZtnV1/r7rcVrnYxGEd/eRubpAWKprYXX59sH1TQNa1NTkprNNnfPzT0yBAaApXPn1l5pbW02ckbrlbi7i0fLy792BAIteuMlz2pFlq/FQqHUoagAYqFQSlHV0VLjJcFWmv4mxXEkl05XDM2l00jzPMnl899VDH59aipNUdRIbHMzUyk48vChBE379M25uZIdK3sfE5r+go9ESDZlvOMZUUQyGlUlWb5WzlcW3BUICBrw2c76umHy9tpaCoR8Um62B4IBwOF0fp5OJITim0ev9nZ2IAkCZ0okys7WELh5YiKv5vOXwqurkqooJX2qoiC8tiZpsjzUdu+e/MJgAOienb2hyPLCkwcPsqU84fv3M6qq3uiamZk1kmkIDAB5k+kdfmsrm9nb2zeW4jgkI5G0LEkfGs0zDO4JBOKEoi7+GQyKhPz316oqCh4HgykVGDh961bifwcDQNfk5A9Elmd2NjZyz7StlZUMUdXrb9y8OV9Jlu7PXrmiZPndRDj8u722tkrO5YgQjz+RcrkrFedU+gAA3O7t7TGzbEAjhBBCOrqnp387TM6harGv78piX5//sM//DQOC8WdAYz/HAAAAAElFTkSuQmCC"},85:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAADLUlEQVRIie2UT2wUVRzHP29mZ3d29u/QrrQqFqFLPHAwIRYPGGwsiTGBgye8YkJIPGE4IBokxoAHEw/oBROjNy8erEQxapBUE3tAIPEgLVsMbCNJs92luzs7O/8eh2KTHWa77bYnw/f23m9+38/vzfu9HzzW/12iW+DgO9/vTxvx00IV6X6MA89vNFveB9+de+3KmsGHTl8aN9P6z/v3PadomtoPF9f1ufL73/7iovVKFDwWlZSKa+cnxncrI9sG+oKumGsx9Ycfb3wG7A7HlKgERWXX00+aG4ICbHvKRFEpRjLCG6+/+81IytBVVY2saV1SFYVUMhE7eGLy2Z5gKYy3Rnds7dp061Vx55BQk7FjPcGGkTi8Y6SwaeDt2wdFMqm/0RMMDBcKmc3i8sRgFkUwHN4XAIdOXhqN6+ov+Xw+07IaZjKpbxoYoNWySRrpau1+bclp+ROTH716Kwag6eqbxeLoM1u2bLyTV5G5uFg1Z2dLR4BTCoDEr9tt2yuV5pAy2HSilAGl0hx22/aCwK/Dwzv2rPb5cnn+Yq225AmxfO2FjIqu9d9juiYoZJannhAKtdqSVy7PX/Rs+1MIjczDH/767549zw+9uDPBvqKO5Ui+mKpju3Ld0CMvZTDigqkZm+m5NlevXr/39XsvrzRZ5JTYml2u1IgLMvr6B0lGVzDiy2caykXP+shZ/dusDcC9+z4LdR8poTJzGeE3UUR0IYEMkGqKgV3jLNR9pmZshnLqiteawJVGwLfXrJW1Y1XJGzC+d2+3QwJwefovHKtKImUyPdde9duO8gV+5HtymhWGB3OrGgEMD2RxGpXIWNi787/JIBGV5DcrDJq9p9mAmSVoRYPD3h1g6bt4rvtIjmdVyWV7g/O5DI5Ve2Tf9Vyk73Tsddyx4dzh+p8Q0zSQAimUJkJtZFuVwuRPf/QEA9SbTcrXbiwg/bSQQQoh8VyXlHO3OzgmW+TaN+G/vhB8fOHs8TNrIoZ09NQnZ5C83y0efhv/dKykvN0PFECGvej06gQ7/gtCKBNSckBKMXbh3Ntf9Qv+/OzxL6UUY1JyQAhlAicY69frsTakB2Q8HG2DZSU3AAAAAElFTkSuQmCC"},94:function(e,t,a){e.exports=a(121)}},[[94,1,2]]]);
//# sourceMappingURL=main.b8f67717.chunk.js.map