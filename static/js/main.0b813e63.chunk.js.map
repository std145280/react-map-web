{"version":3,"sources":["firebase.js","contexts/AuthContext.js","components/Signup.js","components/UpdateProfile.js","components/Profile.js","components/NavigationBar.js","components/Dashboard.js","components/Login.js","components/PrivateRoute.js","components/ForgotPassword.js","components/About.js","components/control/PopupMsg.js","components/control/PopupMap.js","components/control/Icons.js","components/control/LeafletMap.js","components/AddPointOfInterest.js","components/control/PopupForCards.js","components/AddTour.js","components/AddTourGuide.js","components/AddVehicle.js","components/control/PointOfInterestList.js","components/PointOfInterest.js","components/control/RentRequestList.js","components/RentRequests.js","components/Settings.js","components/control/TourList.js","components/Tours.js","components/control/TourGuideList.js","components/TourGuides.js","components/control/VehicleList.js","components/Vehicles.js","components/App.js","index.js","images/logo-64x128.png","images/marker-icon.png","images/car-icon.png"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","Signup","window","ga","hitType","eventCategory","eventAction","eventLabel","Date","toLocaleString","emailRef","useRef","passwordRef","passwordConfirmRef","error","setError","history","useHistory","e","a","preventDefault","current","push","Card","className","Body","Alert","variant","Form","onSubmit","Group","id","Label","Control","type","ref","required","Button","disabled","to","UpdateProfile","promises","Promise","all","then","catch","finally","defaultValue","placeholder","Profile","NavigationBar","Navbar","fixed","collapseOnSelect","expand","bg","Brand","href","onClick","src","logo","alt","width","height","Toggle","aria-controls","Collapse","Nav","NavDropdown","title","Item","Divider","Link","Dashboard","numberOfTours","setNumberOfTours","setTourList","database","on","snapshot","tours","val","tourList","totalTours","numberOfPois","setNumberOfPois","setPointOfInterestList","pointOfInterest","pointOfInterestList","totalPois","console","log","numberOfVehicles","setNumberOfVehicles","setVehicleList","vehicle","vehicleList","totalVehicles","allRequest","setAllRequests","setRentRequestList","request","rentRequestList","totalRequests","setTourGuideList","allTourGuides","setAllTourGuides","tourGuide","tourGuideList","totalTourGuides","CardDeck","border","Header","Text","Footer","location","Login","PrivateRoute","Component","component","rest","render","props","ForgotPassword","message","setMessage","About","PopupMsg","content","PopupMap","markerIcon","L","icon","iconUrl","simpleMarker","iconAnchor","popupAnchor","iconSize","carIcon","center","lat","lng","LeafletMap","lonitude","langitude","marker","map","this","leafletMap","leafletElement","geocoder","Geocoder","nominatim","setLocationLatlng","latlng","reverse","options","crs","scale","getZoom","results","r","setLatLng","setPopupContent","html","name","openPopup","setLocationName","bindPopup","addTo","Map","style","zoom","m","TileLayer","url","attribution","geoLatlng","locationString","AddPOI","latitude","longitude","setLatlng","SubmitButton","descForCustomer","descForGuide","city","ticketCost","time","undefined","togglePopupMsg","setLocation","setName","setDescForCustomer","setDescForGuide","setType","setCity","setTime","setTicketCost","isMapOpen","setIsMapOpen","toggleMapPopup","imageUrl","setImageUrl","readImages","file","target","files","uuid","storageRef","db","storage","child","imageRef","put","getDownloadURL","set","newState","isOpen","setIsOpen","imageUrls","urls","onChange","rows","class","accept","key","remove","delete","deleteImage","poiRef","poi","geoLat","geoLng","handleClose","newLatlng","newName","PopupForCards","AddTour","tourCost","additionalTime","length","setTitle","setTourCost","setAdditionalTime","radius","setRadius","isPoiPopupOpen","setIsPoiPopupOpen","togglePoiPopup","setPoi","removeFromPoi","el","hardCopy","filter","poiItem","diplayAddOrDeleteButton","showAddButton","i","addIt","addToPoi","toRadian","degree","Math","PI","oneCard","origin","destination","lon1","lat1","lon2","lat2","deltaLat","deltaLon","pow","sin","cos","asin","sqrt","getDistance","flex","Title","Carousel","interval","tourRef","totalCost","totalTime","parseFloat","tour","toFixed","parseInt","geoLong","AddTourGuide","age","languages","telephone","setAge","setLanguages","setTelephone","setEmail","tourGuideRef","address","availableForHire","AddVehicles","passengers","setPassengers","fuel","setFuel","year","setYear","cph","setCPH","wiFi","setWiFi","vehicleRef","availableForRent","PointOfInterestList","Table","striped","bordered","hover","colSpan","PointOfInterest","index","RentRequestList","changeReady","rentReqRef","status","update","ReadyButton","isAccepted","selectedTourTitle","selectedCarTitle","startLocationName","finishLocationName","colspan","assignedTourGuide","color","RentRequests","Settings","TourList","isPoisOpen","setIsPoisOpen","togglePoiPopupMsg","decription","Caption","aria-hidden","Tours","TourGuideList","complete","TourGuides","VehicleList","Vehicles","App","Container","minHeight","debug","exact","path","AddPointOfInterest","AddVehicle","ReactGA","initialize","pageview","pathname","search","ReactDOM","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.0b813e63.chunk.js","sourcesContent":["import firebase from 'firebase';\r\nimport 'firebase/analytics';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAwT8qCgvv7RKFkSMKfOe3zlMbgiw54uTM\",\r\n  authDomain: \"auth-development-7136f.firebaseapp.com\",\r\n  databaseURL: \"https://auth-development-7136f-default-rtdb.firebaseio.com\",\r\n  projectId: \"auth-development-7136f\",\r\n  storageBucket: \"auth-development-7136f.appspot.com\",\r\n  messagingSenderId: \"1044741522096\",\r\n  appId: \"1:1044741522096:web:2cac8bc4e2e33f6a37f175\",\r\n\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig)\r\n \r\nexport const auth = firebase.auth();\r\n\r\nexport default firebase;  \r\n","import React, { useContext, useState, useEffect } from \"react\"\r\nimport { auth } from \"../firebase\"\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [currentUser, setCurrentUser] = useState()\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  function signup(email, password) {\r\n    return auth.createUserWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  function login(email, password) {\r\n    return auth.signInWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  function logout() {\r\n    return auth.signOut()\r\n  }\r\n\r\n  function resetPassword(email) {\r\n    return auth.sendPasswordResetEmail(email)\r\n  }\r\n\r\n  function updateEmail(email) {\r\n    return currentUser.updateEmail(email)\r\n  }\r\n\r\n  function updatePassword(password) {\r\n    return currentUser.updatePassword(password)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(user => {\r\n      setCurrentUser(user)\r\n      setLoading(false)\r\n    })\r\n\r\n    return unsubscribe\r\n  }, [])\r\n\r\n  const value = {\r\n    currentUser,\r\n    login,\r\n    signup,\r\n    logout,\r\n    resetPassword,\r\n    updateEmail,\r\n    updatePassword\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n","import React, { useRef, useState, useEffect } from \"react\"\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\n\r\nexport default function Signup() {\r\n\r\n  useEffect(() => {\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"SignUp\",\r\n      eventAction: \"sign up\",\r\n      eventLabel: Date().toLocaleString() + \" - Open SignUp page\"\r\n\r\n    });\r\n  },[]);\r\n\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const passwordConfirmRef = useRef()\r\n  const { signup } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"SignUp\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Submit SignUp\"\r\n    });\r\n\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setError(\"Passwords do not match\")\r\n    }\r\n\r\n    try {\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await signup(emailRef.current.value, passwordRef.current.value)\r\n      history.push(\"/\")\r\n    } catch {\r\n      setError(\"Failed to create an account\")\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Card className=\"cardLogSign\">\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Sign Up</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control type=\"email\" ref={emailRef} required />\r\n            </Form.Group>\r\n            <Form.Group id=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control type=\"password\" ref={passwordRef} required />\r\n            </Form.Group>\r\n            <Form.Group id=\"password-confirm\">\r\n              <Form.Label>Password Confirmation</Form.Label>\r\n              <Form.Control type=\"password\" ref={passwordConfirmRef} required />\r\n            </Form.Group>\r\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n              Sign Up\r\n            </Button>\r\n          </Form>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        Already have an account? <Link to=\"/login\">Log In</Link>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\n\r\nexport default function UpdateProfile() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const passwordConfirmRef = useRef()\r\n  const { currentUser, updatePassword, updateEmail } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setError(\"Passwords do not match\")\r\n    }\r\n\r\n    const promises = []\r\n    setLoading(true)\r\n    setError(\"\")\r\n\r\n    if (emailRef.current.value !== currentUser.email) {\r\n      promises.push(updateEmail(emailRef.current.value))\r\n    }\r\n    if (passwordRef.current.value) {\r\n      promises.push(updatePassword(passwordRef.current.value))\r\n    }\r\n\r\n    Promise.all(promises)\r\n      .then(() => {\r\n        history.push(\"/\")\r\n      })\r\n      .catch(() => {\r\n        setError(\"Failed to update account\")\r\n      })\r\n      .finally(() => {\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Card className=\"cardLogSign\">\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Update Profile</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control\r\n                type=\"email\"\r\n                ref={emailRef}\r\n                required\r\n                defaultValue={currentUser.email}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group id=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                ref={passwordRef}\r\n                placeholder=\"Leave blank to keep the same\"\r\n              />\r\n            </Form.Group>\r\n            <Form.Group id=\"password-confirm\">\r\n              <Form.Label>Password Confirmation</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                ref={passwordConfirmRef}\r\n                placeholder=\"Leave blank to keep the same\"\r\n              />\r\n            </Form.Group>\r\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n              Update\r\n            </Button>\r\n          </Form>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        <Link to=\"/\">Cancel</Link>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport UpdateProfile from \"./UpdateProfile\"\r\nimport NavigationBar from \"./NavigationBar\"\r\n\r\nexport default function Profile() {\r\n  return (\r\n    <>\r\n      < NavigationBar />\r\n      < UpdateProfile />\r\n    </>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Card, Button, Alert, Navbar, Nav, NavDropdown } from \"react-bootstrap\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport Profile from \"./Profile\";\r\nimport logo from \"../images/logo-64x128.png\";\r\n\r\nexport default function NavigationBar() {\r\n  const [error, setError] = useState(\"\");\r\n  const { currentUser, logout } = useAuth();\r\n  const history = useHistory();\r\n\r\n  async function handleLogout() {\r\n    setError(\"\");\r\n\r\n    try {\r\n      await logout();\r\n      history.push(\"/login\");\r\n    } catch {\r\n      setError(\"Failed to log out\");\r\n    }\r\n  }\r\n\r\n  return (\r\n\r\n    <div className=\"admin-panel-container\">\r\n      <Navbar fixed=\"top\" collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\r\n        <Navbar.Brand href=\"#home\"  onClick={() => history.push(\"/\")}> <img src={logo} alt=\"Logo\" width={96} height={48}/> </Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n          <Nav className=\"mr-auto\">\r\n\r\n            <NavDropdown title=\"Vehicles\" id=\"collasible-nav-dropdown\">\r\n              <NavDropdown.Item \r\n                href=\"#all_vehicles\"\r\n                onClick={() => history.push(\"/Vehicles\")}\r\n              >\r\n                All Vehicles\r\n              </NavDropdown.Item>\r\n            \r\n              <NavDropdown.Divider />\r\n              <NavDropdown.Item\r\n                href=\"#add_vehicle\"\r\n                onClick={() => history.push(\"/AddVehicle\")}\r\n              >\r\n                Add Vehicle\r\n              </NavDropdown.Item>\r\n            </NavDropdown>\r\n\r\n            <NavDropdown title=\"Tour Guides\" id=\"collasible-nav-dropdown\">\r\n              <NavDropdown.Item\r\n                href=\"#all_tour_guides\"\r\n                onClick={() => history.push(\"/TourGuides\")}\r\n              >\r\n                All Tour Guides\r\n              </NavDropdown.Item>\r\n              <NavDropdown.Divider />\r\n              <NavDropdown.Item\r\n                href=\"#add_tour_guide\"\r\n                onClick={() => history.push(\"/AddTourGuide\")}\r\n              >\r\n                Add Tour Guide\r\n              </NavDropdown.Item>\r\n            </NavDropdown>\r\n\r\n            <NavDropdown title=\"Points Of Interest\" id=\"collasible-nav-dropdown\">\r\n              <NavDropdown.Item\r\n                href=\"#all_points_of_interest\"\r\n                onClick={() => history.push(\"/PointOfInterest\")}\r\n              >\r\n                All Points Of Interest\r\n              </NavDropdown.Item>\r\n              <NavDropdown.Divider />\r\n              <NavDropdown.Item\r\n                href=\"#add_point_of_interest\"\r\n                onClick={() => history.push(\"/AddPointOfInterest\")}\r\n              >\r\n                Add Point of Interest\r\n              </NavDropdown.Item>\r\n\r\n            </NavDropdown>\r\n            <NavDropdown title=\"Tours\" id=\"collasible-nav-dropdown\">\r\n              <NavDropdown.Item\r\n                href=\"#all_tours\"\r\n                onClick={() => history.push(\"/Tours\")}\r\n              >\r\n                All Tours\r\n              </NavDropdown.Item>\r\n              <NavDropdown.Divider />\r\n              <NavDropdown.Item\r\n                href=\"?#add_tour\"\r\n                onClick={() => history.push(\"/AddTour\")}\r\n              >\r\n                Add Tour\r\n              </NavDropdown.Item>\r\n            </NavDropdown>\r\n            \r\n          </Nav>\r\n          <Nav>\r\n            <Nav.Link\r\n              href=\"#rent_requests\"\r\n              onClick={() => history.push(\"/RentRequests\")}\r\n            >\r\n              Rent Requests\r\n            </Nav.Link>\r\n            <NavDropdown title=\"Settings\" id=\"collasible-nav-dropdown\">\r\n              <NavDropdown.Item\r\n                href=\"#settings\"\r\n                onClick={() => history.push(\"/Settings\")}\r\n              >\r\n                System Settings\r\n              </NavDropdown.Item>\r\n              <NavDropdown.Divider />\r\n              <NavDropdown.Item\r\n                href=\"#profile\"\r\n                onClick={() => history.push(\"/Profile\")}\r\n              >\r\n                Profile\r\n              </NavDropdown.Item>\r\n              <NavDropdown.Divider />\r\n              <NavDropdown.Item\r\n                href=\"#about\"\r\n                onClick={() => history.push(\"/About\")}\r\n              >\r\n                About\r\n              </NavDropdown.Item>\r\n            </NavDropdown>\r\n            <Nav.Link href=\"#log_out\" onClick={handleLogout}>\r\n              Log Out{\" \"}\r\n            </Nav.Link>\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport NavigationBar from \"./NavigationBar\";\r\nimport firebase from \"../firebase\";\r\nimport { CardDeck, Card, Button, Carousel } from \"react-bootstrap\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nexport default function Dashboard() {\r\n  const history = useHistory();\r\n\r\n  const [numberOfTours, setNumberOfTours] = useState(0);\r\n  const [tourList, setTourList] = useState();\r\n  useEffect(() => {\r\n    const tourRef = firebase.database().ref(\"tour\");\r\n    tourRef.on(\"value\", (snapshot) => {\r\n      const tours = snapshot.val();\r\n      const tourList = [];\r\n      var totalTours = 0;\r\n      for (let id in tours) {\r\n        totalTours++;\r\n        tourList.push({ id, ...tours[id] });\r\n        setNumberOfTours(totalTours);\r\n      }\r\n\r\n      setTourList(tourList);\r\n    });\r\n  }, []);\r\n\r\n  const [numberOfPois, setNumberOfPois] = useState(0);\r\n  const [pointOfInterestList, setPointOfInterestList] = useState();\r\n  useEffect(() => {\r\n    //firebase.analytics().logEvent('/');\r\n    const pointOfInterestRef = firebase.database().ref(\"poi\");\r\n    pointOfInterestRef.on(\"value\", (snapshot) => {\r\n      const pointOfInterest = snapshot.val();\r\n      const pointOfInterestList = [];\r\n      var totalPois = 0;\r\n      for (let id in pointOfInterest) {\r\n        pointOfInterestList.push({ id, ...pointOfInterest[id] });\r\n        totalPois++;\r\n        setNumberOfPois(totalPois);\r\n      }\r\n      setPointOfInterestList(pointOfInterestList);\r\n      console.log(pointOfInterestList);\r\n    });\r\n  }, []);\r\n\r\n  const [numberOfVehicles, setNumberOfVehicles] = useState(0);\r\n  const [vehicleList, setVehicleList] = useState();\r\n  useEffect(() => {\r\n    const vehicleRef = firebase.database().ref(\"vehicle\");\r\n    vehicleRef.on(\"value\", (snapshot) => {\r\n      const vehicle = snapshot.val();\r\n      const vehicleList = [];\r\n      var totalVehicles = 0;\r\n      for (let id in vehicle) {\r\n        vehicleList.push({ id, ...vehicle[id] });\r\n        totalVehicles++;\r\n      }\r\n      setNumberOfVehicles(totalVehicles);\r\n      setVehicleList(vehicleList);\r\n    });\r\n  }, []);\r\n\r\n  const [allRequest, setAllRequests] = useState(0);\r\n  const [rentRequestList, setRentRequestList] = useState();\r\n\r\n  useEffect(() => {\r\n    const rentReqRef = firebase.database().ref(\"rentRequest\");\r\n    rentReqRef.on(\"value\", (snapshot) => {\r\n      const request = snapshot.val();\r\n      const rentRequestList = [];\r\n      var totalRequests = 0;\r\n      for (let id in request) {\r\n        rentRequestList.push({ id, ...request[id] });\r\n        totalRequests++;\r\n      }\r\n      setRentRequestList(rentRequestList);\r\n      setAllRequests(totalRequests);\r\n    });\r\n  }, []);\r\n\r\n  const [tourGuideList, setTourGuideList] = useState();\r\n  const [allTourGuides, setAllTourGuides] = useState();\r\n  useEffect(() => {\r\n    const tourGuideRef = firebase.database().ref(\"tourGuide\");\r\n    tourGuideRef.on(\"value\", (snapshot) => {\r\n      const tourGuide = snapshot.val();\r\n      const tourGuideList = [];\r\n      var totalTourGuides = 0;\r\n      for (let id in tourGuide) {\r\n        tourGuideList.push({ id, ...tourGuide[id] });\r\n        totalTourGuides++;\r\n      }\r\n      setTourGuideList(tourGuideList);\r\n      setAllTourGuides(totalTourGuides);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <NavigationBar />\r\n      <div>\r\n        <br />\r\n        <b>Dashboard </b>\r\n        <CardDeck>\r\n          <Card className=\"dashboardCard\" border=\"primary\">\r\n            <Card.Header>\r\n              <b>Tours</b>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              {/*<Card.Title>Browse all available tours</Card.Title>*/}\r\n\r\n              <div>\r\n                {`There are `}\r\n                {numberOfTours} {` tours. `}\r\n              </div>\r\n\r\n              <Card.Text></Card.Text>\r\n            </Card.Body>\r\n            <Card.Footer>\r\n              <button\r\n                className=\"btn btn-primary w-100 \"\r\n                onClick={() => history.push(\"/Tours\")}\r\n              >\r\n                <i className=\"fa   fa-map-marked-alt\"> All Tours</i>\r\n              </button>\r\n              <br />\r\n              <br />\r\n\r\n              <button\r\n                className=\"btn btn-primary w-100\"\r\n                onClick={() => (window.location.href = \"/AddTour?#add_tour\")}\r\n              >\r\n                <i className=\"fa fa-plus\"> Add New Tour</i>\r\n              </button>\r\n            </Card.Footer>\r\n          </Card>\r\n          <br />\r\n          <Card className=\"dashboardCard\" border=\"primary\">\r\n            <Card.Header>\r\n              <b>Points Of Interest</b>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              {/*<Card.Title>Browse all available tours</Card.Title>*/}\r\n\r\n              <div>\r\n                {`There are `}\r\n                {numberOfPois} {` points of interest. `}\r\n              </div>\r\n\r\n              <Card.Text></Card.Text>\r\n            </Card.Body>\r\n            <Card.Footer>\r\n              <button\r\n                className=\"btn btn-primary w-100 \"\r\n                onClick={() => history.push(\"/PointOfInterest\")}\r\n              >\r\n                <i className=\"fa  fa-map-marker-alt\"> All Points</i>\r\n              </button>\r\n              <br />\r\n              <br />\r\n              <button\r\n                className=\"btn btn-primary w-100\"\r\n                onClick={() => history.push(\"/AddPointOfInterest\")}\r\n              >\r\n                <i className=\"fa fa-plus\"> Add New Point</i>\r\n              </button>\r\n              <br />\r\n            </Card.Footer>\r\n          </Card>\r\n          <br />\r\n\r\n          <Card className=\"dashboardCard\" border=\"primary\">\r\n            <Card.Header>\r\n              <b>Vehices</b>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              {/*<Card.Title>Browse all available tours</Card.Title>*/}\r\n\r\n              <div>\r\n                {`There are `}\r\n                {numberOfVehicles} {` vehicles. `}\r\n              </div>\r\n              <br />\r\n\r\n              <Card.Text></Card.Text>\r\n            </Card.Body>\r\n            <Card.Footer>\r\n              <button\r\n                className=\"btn btn-primary w-100 \"\r\n                onClick={() => history.push(\"/Vehicles\")}\r\n              >\r\n                <i className=\"fa fa-car\"> All Vehicles</i>\r\n              </button>\r\n              <br />\r\n              <br />\r\n              <button\r\n                className=\"btn btn-primary w-100\"\r\n                onClick={() => history.push(\"/AddVehicle\")}\r\n              >\r\n                <i className=\"fa fa-plus\"> Add New Vehicle</i>\r\n              </button>\r\n            </Card.Footer>\r\n          </Card>\r\n          <br />\r\n\r\n          <Card className=\"dashboardCard\" border=\"primary\">\r\n            <Card.Header>\r\n              <b>Tour Guides</b>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              {/*<Card.Title>Browse all available tours</Card.Title>*/}\r\n\r\n              <div>\r\n                {`There are `}\r\n                {allTourGuides} {` Tour Guides. `}\r\n              </div>\r\n\r\n              <Card.Text></Card.Text>\r\n            </Card.Body>\r\n            <Card.Footer>\r\n              <button\r\n                className=\"btn btn-primary w-100 \"\r\n                onClick={() => history.push(\"/TourGuides\")}\r\n              >\r\n                <i className=\"fa fa-users\"> All Tour Guides</i>\r\n              </button>\r\n              <br />\r\n              <br />\r\n              <button\r\n                className=\"btn btn-primary w-100\"\r\n                onClick={() => history.push(\"/AddTourGuide\")}\r\n              >\r\n                <i className=\"fa fa-plus\"> Add New Tour Guide</i>\r\n              </button>\r\n            </Card.Footer>\r\n          </Card>\r\n\r\n          <Card className=\"dashboardCard\" border=\"primary\">\r\n            <Card.Header>\r\n              <b>Requests</b>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              {/*<Card.Title>Browse all available tours</Card.Title>*/}\r\n\r\n              <div>\r\n                {`There are `}\r\n                {allRequest} {` request for tours. `}\r\n              </div>\r\n\r\n              <Card.Text></Card.Text>\r\n            </Card.Body>\r\n            <Card.Footer>\r\n              <button\r\n                className=\"btn btn-primary w-100\"\r\n                onClick={() => history.push(\"/RentRequests\")}\r\n              >\r\n                <i className=\"fas fa-clipboard-list\"> All Requests</i>\r\n              </button>\r\n            </Card.Footer>\r\n          </Card>\r\n        </CardDeck>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useRef, useState, useEffect } from \"react\"\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\n\r\nexport default function Login() {\r\n\r\n  useEffect(() => {\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"Login\",\r\n      eventAction: \"login\",\r\n      eventLabel: Date().toLocaleString() + \" - Open Login page\"\r\n\r\n    });\r\n  },[]);\r\n\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const { login } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"Login\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Submit Login\"\r\n    });\r\n\r\n    try {\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await login(emailRef.current.value, passwordRef.current.value)\r\n      history.push(\"/\")\r\n    } catch {\r\n      setError(\"Failed to log in\")\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Card className=\"cardLogSign\">\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Log In</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control type=\"email\" ref={emailRef} required />\r\n            </Form.Group>\r\n            <Form.Group id=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control type=\"password\" ref={passwordRef} required />\r\n            </Form.Group>\r\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n              Log In\r\n            </Button>\r\n          </Form>\r\n          <div className=\"w-100 text-center mt-3\">\r\n            <Link to=\"/forgot-password\">Forgot Password?</Link>\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        Need an account? <Link to=\"/signup\">Sign Up</Link>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React from \"react\"\r\nimport { Route, Redirect } from \"react-router-dom\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }) {\r\n  const { currentUser } = useAuth()\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => {\r\n        return currentUser ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }}\r\n    ></Route>\r\n  )\r\n}\r\n","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\nexport default function ForgotPassword() {\r\n  const emailRef = useRef()\r\n  const { resetPassword } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [message, setMessage] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    try {\r\n      setMessage(\"\")\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await resetPassword(emailRef.current.value)\r\n      setMessage(\"Check your inbox for further instructions\")\r\n    } catch {\r\n      setError(\"Failed to reset password\")\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Card className=\"cardLogSign\">\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Password Reset</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          {message && <Alert variant=\"success\">{message}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control type=\"email\" ref={emailRef} required />\r\n            </Form.Group>\r\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n              Reset Password\r\n            </Button>\r\n          </Form>\r\n          <div className=\"w-100 text-center mt-3\">\r\n            <Link to=\"/login\">Login</Link>\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        Need an account? <Link to=\"/signup\">Sign Up</Link>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport NavigationBar from \"./NavigationBar\";\r\n\r\nexport default function About() {\r\n  return (\r\n    <>\r\n      <NavigationBar />\r\n      About\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\n \r\nconst PopupMsg = props => {\r\n  return (\r\n    <div className=\"PopupMsg-box\">\r\n      <div className=\"box\">\r\n        {props.content}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n \r\nexport default PopupMsg;","import React from \"react\";\r\n \r\nconst PopupMap = props => {\r\n  return (\r\n    <div className=\"PopupMsg-box\">\r\n      <div className=\"mapBox\">\r\n        {props.content}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n \r\nexport default PopupMap;","import L from 'leaflet';\r\nimport simpleMarker from \"../../images/marker-icon.png\"\r\nimport carIcon from \"../../images/car-icon.png\"\r\n\r\nconst markerIcon = L.icon({\r\n    iconUrl: simpleMarker,\r\n    iconAnchor: [5, 25],\r\n    popupAnchor: [5, -20],\r\n    iconSize: [25, 25],\r\n  });\r\n\r\n  const carMarkerIcon = L.icon({\r\n    iconUrl: carIcon,\r\n    iconAnchor: [5, 25],\r\n    popupAnchor: [5, -20],\r\n    iconSize: [25, 25],\r\n  });\r\n\r\n  export { markerIcon, carMarkerIcon };","import React from \"react\";\r\nimport { Map, TileLayer } from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\nimport { markerIcon } from \"./Icons\";\r\n\r\nconst height = { height: \"100vh\" };\r\nconst center = { lat: 37.9838, lng: 23.7275 };\r\n\r\nvar geoLatlng;\r\nvar locationString;\r\n\r\nclass LeafletMap extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  center = { lat: this.props.lonitude, lng: this.props.langitude };\r\n\r\n  componentDidMount() {\r\n    const map = this.leafletMap.leafletElement;\r\n    const geocoder = L.Control.Geocoder.nominatim();\r\n    let marker;\r\n    map.on(\"click\", (e) => {\r\n      this.props.setLocationLatlng(e.latlng);\r\n      geocoder.reverse(\r\n        e.latlng,\r\n        map.options.crs.scale(map.getZoom()),\r\n        (results) => {\r\n          var r = results[0];\r\n          if (r) {\r\n            if (marker) {\r\n              marker\r\n                .setLatLng(r.center, { icon: markerIcon })\r\n                .setPopupContent(r.html || r.name)\r\n                .openPopup();\r\n              this.props.setLocationName(r.name);\r\n            } else {\r\n              marker = L.marker(r.center, { icon: markerIcon })\r\n                .bindPopup(r.name)\r\n                .addTo(map)\r\n                .openPopup();\r\n              this.props.setLocationName(r.name);\r\n            }\r\n          }\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Map\r\n        style={height}\r\n        center={center}\r\n        zoom={12}\r\n        ref={(m) => {\r\n          this.leafletMap = m;\r\n        }}\r\n      >\r\n        <TileLayer\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n        />\r\n      </Map>\r\n    );\r\n  }\r\n}\r\n\r\nexport default { LeafletMap, geoLatlng, locationString };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport NavigationBar from \"./NavigationBar\";\r\nimport db from \"../firebase\";\r\nimport PopupMsg from \"./control/PopupMsg\";\r\nimport PopupMap from \"./control/PopupMap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Map from \"./control/LeafletMap\";\r\nimport \"leaflet/dist/leaflet.css\";\r\n\r\nexport default function AddPOI() {\r\n\r\n  useEffect(() => {\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddPoI\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Open AddPoI page\"\r\n    });\r\n  }, []);\r\n\r\n  const [latlng, setLatlng] = useState({ latitude: 0, longitude: 0 });\r\n  const setLocationLatlng = (newLatlng) => {\r\n    setLatlng(newLatlng);\r\n  };\r\n\r\n  function SubmitButton(){\r\n    if (name && descForCustomer && descForGuide && type && city && ticketCost && time && (latlng.lat!==undefined)){\r\n      return <button className=\"btn btn-success btn-lg\"\r\n              type=\"submit\"\r\n              onClick={togglePopupMsg}> Submit </button>\r\n    } else {\r\n      return <button className=\"btn btn-success btn-lg\"\r\n                    type=\"submit\" disabled> Submit </button>\r\n    };\r\n  };\r\n\r\n\r\n\r\n  const [location, setLocation] = useState(\r\n    \"Click 'Map' to set Point of Interest location.\"\r\n  );\r\n  const setLocationName = (newName) => {\r\n    setLocation(newName);\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddPoI\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Set PoI's LatLng\",\r\n    });\r\n  };\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const handleOnChangeName = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const [descForCustomer, setDescForCustomer] = useState(\"\");\r\n  const handleOnChangeDescForCustomer = (e) => {\r\n    setDescForCustomer(e.target.value);\r\n  };\r\n\r\n  const [descForGuide, setDescForGuide] = useState(\"\");\r\n  const handleOnChangeDescForGuide = (e) => {\r\n    setDescForGuide(e.target.value);\r\n  };\r\n\r\n  const [type, setType] = useState(\"\");\r\n  const handleOnChangeType = (e) => {\r\n    setType(e.target.value);\r\n  };\r\n\r\n  const [city, setCity] = useState(\"\");\r\n  const handleOnChangeCity = (e) => {\r\n    setCity(e.target.value);\r\n  };\r\n\r\n  const [time, setTime] = useState(\"\");\r\n  const handleOnChangeTime = (e) => {\r\n    setTime(e.target.value);\r\n  };\r\n\r\n  const [ticketCost, setTicketCost] = useState(\"\");\r\n  const handleOnChangeTicketCost = (e) => {\r\n    setTicketCost(e.target.value);\r\n  };\r\n\r\n  const [isMapOpen, setIsMapOpen] = useState(false);\r\n  const toggleMapPopup = (e) => {\r\n    e.preventDefault();\r\n    setIsMapOpen(!isMapOpen);\r\n\r\n    if (!isMapOpen) {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"AddPoI\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Open map popup\",\r\n      });\r\n    } else {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"AddPoI\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Close map popup\",\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  const [imageUrl, setImageUrl] = useState([]);\r\n\r\n  const readImages = async (e) => {\r\n    const file = e.target.files[0];\r\n    const id = uuid();\r\n    const storageRef = db.storage().ref(\"image\").child(id);\r\n    const imageRef = db.database().ref(\"image\").child(\"temp\").child(id);\r\n    await storageRef.put(file);\r\n    storageRef.getDownloadURL().then((url) => {\r\n      imageRef.set(url);\r\n      const newState = [...imageUrl, { id, url }];\r\n      setImageUrl(newState);\r\n    });\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddPoI\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Read Image\",\r\n    });\r\n\r\n  };\r\n\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const togglePopupMsg = (e) => {\r\n    e.preventDefault();\r\n    setIsOpen(!isOpen);\r\n\r\n    if (!isOpen) {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"AddPoI\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Open popup msg\",\r\n      });\r\n    } else {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"AddPoI\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Close popup msg\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const getImageUrl = () => {\r\n    const imageRef = db.database().ref(\"image\").child(\"temp\");\r\n    imageRef.on(\"value\", (snapshot) => {\r\n      const imageUrls = snapshot.val();\r\n      const urls = [];\r\n      for (let id in imageUrls) {\r\n        urls.push({ id, url: imageUrls[id] });\r\n      }\r\n      const newState = [...imageUrl, ...urls];\r\n      setImageUrl(newState);\r\n    });\r\n  };\r\n\r\n  const deleteImage = (id) => {\r\n    const storageRef = db.storage().ref(\"image\").child(id);\r\n    const imageRef = db.database().ref(\"image\").child(\"temp\").child(id);\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddPOI\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Delete Image\",\r\n    });\r\n\r\n    imageRef.remove().then(() => {\r\n      storageRef.delete();\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getImageUrl();\r\n  }, []);\r\n\r\n  const createPOI = () => {\r\n    var poiRef = db.database().ref(\"poi\");\r\n    var poi = {\r\n      name,\r\n      descForCustomer,\r\n      descForGuide,\r\n      geoLat: latlng.lat,\r\n      geoLng: latlng.lng,\r\n      type,\r\n      city,\r\n      time,\r\n      ticketCost,\r\n      imageUrl,\r\n      location: location,\r\n    };\r\n\r\n    poiRef.push(poi);\r\n    const imageRef = db.database().ref(\"image\");\r\n    imageRef.remove();\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddPoI\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Created New PoI\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NavigationBar />\r\n      <div className=\"formStyle\">\r\n        <form>\r\n          <h2 className=\"text-center\">Import New POI</h2>\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeName}\r\n              value={name}\r\n              placeholder=\"Name\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <textarea\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeDescForCustomer}\r\n              value={descForCustomer}\r\n              placeholder=\"Description for customer.\"\r\n              rows=\"3\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <textarea\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeDescForGuide}\r\n              value={descForGuide}\r\n              placeholder=\"Description for guide.\"\r\n              rows=\"3\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeType}\r\n              value={type}\r\n              placeholder=\"Type\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeCity}\r\n              value={city}\r\n              placeholder=\"City\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeTicketCost}\r\n              value={ticketCost}\r\n              placeholder=\"Ticket Cost, write 0 if there is no cost.\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeTime}\r\n              value={time}\r\n              placeholder=\"Time needed*\"\r\n            />{\" \"}\r\n            <small class=\"form-text text-primary\">\r\n              *insert time in minutes e.x. write 20 for 20 minutes time.\r\n            </small>\r\n          </div>\r\n\r\n          <br />\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={latlng.lat}\r\n              placeholder=\"Latitude**\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={latlng.lng}\r\n              placeholder=\"Longitude**\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <textarea\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={location}\r\n              placeholder=\"Click the 'Map' button to add vehicle's place.\"\r\n              rows=\"3\"\r\n            />\r\n          </div>\r\n          <center>\r\n            <button\r\n              className=\"btn btn-primary btn-lg\"\r\n              type=\"submit\"\r\n              onClick={toggleMapPopup}\r\n            >\r\n              <i className=\"fas fa-map-marked-alt\">{`  Map`}</i>\r\n            </button>\r\n          </center>\r\n\r\n          <small class=\"form-text text-primary\">\r\n            **Langitude and longitude will be inserted automaticaly when you\r\n            choose the location from the map.\r\n          </small>\r\n          <br />\r\n          <div>\r\n            <table>\r\n              <tr>\r\n                <td>\r\n                  {\" \"}\r\n                  <h6>Upload Image</h6>{\" \"}\r\n                </td>\r\n                <td>\r\n                  <input type=\"file\" accept=\"image/*\" onChange={readImages} />\r\n                  {imageUrl\r\n                    ? imageUrl.map(({ id, url }) => {\r\n                        return (\r\n                          <div key={id}>\r\n                            <img width={150} height={113} src={url} alt=\"\" />\r\n                            <button\r\n                              className=\"btn btn-danger\"\r\n                              onClick={() => deleteImage(id)}\r\n                            >\r\n                              <i className=\"fa fa-trash-alt\"></i>\r\n                            </button>\r\n                          </div>\r\n                        );\r\n                      })\r\n                    : \"\"}\r\n                </td>\r\n              </tr>\r\n              <tr></tr>\r\n\r\n              <tr>\r\n                <div className=\"form-group\">\r\n                <SubmitButton/>\r\n                  {isOpen && (\r\n                    <PopupMsg\r\n                      content={\r\n                        <>\r\n                          <b>Question</b>\r\n                          <p>\r\n                            Are you sure you want to import the Point Of\r\n                            Interest?\r\n                          </p>\r\n                          <center>\r\n                            <Link\r\n                              to=\"/PointOfInterest\"\r\n                              className=\"btn btn-success btn-lg\"\r\n                              onClick={createPOI}\r\n                            >\r\n                              Yes{\" \"}\r\n                            </Link>\r\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                            <button\r\n                              className=\"btn btn-warning btn-lg\"\r\n                              type=\"submit\"\r\n                              onClick={togglePopupMsg}\r\n                            >\r\n                              {\" \"}\r\n                              No{\" \"}\r\n                            </button>\r\n                          </center>\r\n                        </>\r\n                      }\r\n                      handleClose={togglePopupMsg}\r\n                    />\r\n                  )}\r\n                  {isMapOpen && (\r\n                    <PopupMap\r\n                      content={\r\n                        <>\r\n                          <center>\r\n                            <h3> Insert Point of Interest's location </h3>\r\n                          </center>\r\n                          <div>\r\n                            <Map.LeafletMap\r\n                              setLocationLatlng={setLocationLatlng}\r\n                              setLocationName={setLocationName}\r\n                            />\r\n                          </div>\r\n                          <br />\r\n                          <center>\r\n                            {\" \"}\r\n                            <button\r\n                              className=\"btn btn-success btn-lg\"\r\n                              type=\"submit\"\r\n                              onClick={toggleMapPopup}\r\n                            >\r\n                              {\" \"}\r\n                              Done{\" \"}\r\n                            </button>\r\n                          </center>\r\n                        </>\r\n                      }\r\n                      handleClose={toggleMapPopup}\r\n                    />\r\n                  )}\r\n                </div>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\n \r\nconst PopupForCards = props => {\r\n  return (\r\n    <div className=\"PopupMsg-box\">\r\n      <div className=\"popupForCards-box\">\r\n        {props.content}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n \r\nexport default PopupForCards;","import React, { useState, useEffect } from \"react\";\r\nimport { CardDeck, Card, Carousel } from \"react-bootstrap\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport NavigationBar from \"./NavigationBar\";\r\nimport firebase from \"../firebase\";\r\nimport PopupMsg from \"./control/PopupMsg\";\r\nimport PopupMap from \"./control/PopupMap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Map from \"./control/LeafletMap\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport PopupCards from \"./control/PopupForCards\";\r\n\r\nexport default function AddTour() {\r\n  \r\n  useEffect(() => {\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddTour\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Open AddTour page\",\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const pointOfInterestRef = firebase.database().ref(\"poi\");\r\n    pointOfInterestRef.on(\"value\", (snapshot) => {\r\n      const pointOfInterest = snapshot.val();\r\n      const pointOfInterestList = [];\r\n      for (let id in pointOfInterest) {\r\n        pointOfInterestList.push({ id, ...pointOfInterest[id] });\r\n      }\r\n      setPointOfInterestList(pointOfInterestList);\r\n      console.log(pointOfInterestList);\r\n    });\r\n  }, []);\r\n\r\n  function SubmitButton() {\r\n    if (\r\n      title &&\r\n      descForCustomer &&\r\n      descForGuide &&\r\n      tourCost &&\r\n      additionalTime &&\r\n      latlng.lat !== undefined &&\r\n      poi.length > 0\r\n    ) {\r\n      return (\r\n        <button\r\n          className=\"btn btn-success btn-lg\"\r\n          type=\"submit\"\r\n          onClick={togglePopupMsg}\r\n        >\r\n          {\" \"}\r\n          Submit{\" \"}\r\n        </button>\r\n      );\r\n    } else {\r\n      return (\r\n        <button className=\"btn btn-success btn-lg\" type=\"submit\" disabled>\r\n          {\" \"}\r\n          Submit{\" \"}\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const handleOnChangeTitle = (e) => {\r\n    setTitle(e.target.value);\r\n  };\r\n\r\n  const [descForCustomer, setDescForCustomer] = useState(\"\");\r\n  const handleOnChangeDescForCustomer = (e) => {\r\n    setDescForCustomer(e.target.value);\r\n  };\r\n\r\n  const [descForGuide, setDescForGuide] = useState(\"\");\r\n  const handleOnChangeDescForGuide = (e) => {\r\n    setDescForGuide(e.target.value);\r\n  };\r\n\r\n  const [tourCost, setTourCost] = useState(\"\");\r\n  const handleOnChangeTourCost = (e) => {\r\n    setTourCost(e.target.value);\r\n  };\r\n\r\n  const [additionalTime, setAdditionalTime] = useState(\"\");\r\n  const handleOnChangeAdditionalTime = (e) => {\r\n    setAdditionalTime(e.target.value);\r\n  };\r\n\r\n  const [latlng, setLatlng] = useState({ latitude: 0, longitude: 0 });\r\n  const setLocationLatlng = (newLatlng) => {\r\n    setLatlng(newLatlng);\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddTour\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Set Tour's LatLng\",\r\n    });\r\n  };\r\n\r\n  const [radius, setRadius] = useState(\"\");\r\n  const handleOnChangeRadius = (e) => {\r\n    setRadius(e.target.value);\r\n  };\r\n\r\n  const [location, setLocation] = useState(\r\n    \"Click the 'Map' button to add the general area of the tour.\"\r\n  );\r\n  const setLocationName = (newName) => {\r\n    setLocation(newName);\r\n  };\r\n\r\n  const [isMapOpen, setIsMapOpen] = useState(false);\r\n  const toggleMapPopup = (e) => {\r\n    e.preventDefault();\r\n    setIsMapOpen(!isMapOpen);\r\n\r\n    if (!isMapOpen) {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"AddTour\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Open map popup\",\r\n      });\r\n    } else {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"AddTour\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Close map popup\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const [isPointSelectorOpen, setIsPointSelectorOpen] = useState(false);\r\n  const togglePointSelectorPopup = (e) => {\r\n    e.preventDefault();\r\n    setIsPointSelectorOpen(!isPointSelectorOpen);\r\n  };\r\n\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const togglePopupMsg = (e) => {\r\n    e.preventDefault();\r\n    setIsOpen(!isOpen);\r\n\r\n    if (!isOpen) {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"AddTour\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Open popup msg\",\r\n      });\r\n    } else {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"AddTour\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Close popup msg\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const [isPoiPopupOpen, setIsPoiPopupOpen] = useState(false);\r\n  const togglePoiPopup = (e) => {\r\n    e.preventDefault();\r\n    setIsPoiPopupOpen(!isPoiPopupOpen);\r\n\r\n    if (!isPoiPopupOpen) {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"AddTour\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Open PoI popup\",\r\n      });\r\n    } else {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"AddTour\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Close PoI popup\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const addToPoi = (el) => {\r\n    let addIt = true;\r\n    for (let i = 0; i < poi.length; i++) {\r\n      if (poi[i].id === el.id) addIt = false;\r\n    }\r\n    if (addIt) setPoi([...poi, el]);\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddTour\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Add PoI\",\r\n    });\r\n  };\r\n\r\n  const [pointOfInterestList, setPointOfInterestList] = useState();\r\n  const [poi, setPoi] = useState([]);\r\n\r\n  const removeFromPoi = (el) => {\r\n    let hardCopy = [...poi];\r\n    hardCopy = hardCopy.filter((poiItem) => poiItem.id !== el.id);\r\n    setPoi(hardCopy);\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddTour\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Remove PoI\",\r\n    });\r\n  };\r\n\r\n  const poiItems = poi.map((poi) => (\r\n    <div key={poi.id}>\r\n      {`${poi.name}: $${poi.geoLat}`}\r\n      <input type=\"submit\" value=\"remove\" onClick={() => removeFromPoi(poi)} />\r\n    </div>\r\n  ));\r\n\r\n  const [imageUrl, setImageUrl] = useState([]);\r\n\r\n  const readImages = async (e) => {\r\n    const file = e.target.files[0];\r\n    const id = uuid();\r\n    const storageRef = firebase.storage().ref(\"image\").child(id);\r\n    const imageRef = firebase.database().ref(\"image\").child(\"temp\").child(id);\r\n    await storageRef.put(file);\r\n    storageRef.getDownloadURL().then((url) => {\r\n      imageRef.set(url);\r\n      const newState = [...imageUrl, { id, url }];\r\n      setImageUrl(newState);\r\n    });\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddTour\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Read Image\",\r\n    });\r\n  };\r\n\r\n\r\n  const getImageUrl = () => {\r\n    const imageRef = firebase.database().ref(\"image\").child(\"temp\");\r\n    imageRef.on(\"value\", (snapshot) => {\r\n      const imageUrls = snapshot.val();\r\n      const urls = [];\r\n      for (let id in imageUrls) {\r\n        urls.push({ id, url: imageUrls[id] });\r\n      }\r\n      const newState = [...imageUrl, ...urls];\r\n      setImageUrl(newState);\r\n    });\r\n  };\r\n\r\n  const deleteImage = (id) => {\r\n    const storageRef = firebase.storage().ref(\"image\").child(id);\r\n    const imageRef = firebase.database().ref(\"image\").child(\"temp\").child(id);\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddTour\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Delete Image\",\r\n    });\r\n\r\n    imageRef.remove().then(() => {\r\n      storageRef.delete();\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getImageUrl();\r\n  }, []);\r\n\r\n  const createTour = () => {\r\n    var tourRef = firebase.database().ref(\"tour\");\r\n\r\n    var totalCost = 0;\r\n    var totalTime = 0;\r\n\r\n    for (let i = 0; i < poi.length; i++) {\r\n      totalCost = totalCost + parseFloat(poi[i].ticketCost);\r\n      totalTime = totalTime + parseFloat(poi[i].time);\r\n    }\r\n    totalCost = totalCost + parseFloat(tourCost);\r\n    totalTime = totalTime + parseFloat(additionalTime);\r\n\r\n    var tour = {\r\n      title,\r\n      descForCustomer,\r\n      descForGuide,\r\n      tourCost: parseFloat(totalCost).toFixed(2),\r\n      time: parseInt(totalTime),\r\n      imageUrl,\r\n      geoLat: latlng.lat,\r\n      geoLong: latlng.lng,\r\n      poi,\r\n    };\r\n    tourRef.push(tour);\r\n    const imageRef = firebase.database().ref(\"image\");\r\n    imageRef.remove();\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddTour\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Created New Tour\",\r\n    });\r\n  };\r\n\r\n  const diplayAddOrDeleteButton = (el) => {\r\n    let showAddButton = true;\r\n    for (let i = 0; i < poi.length; i++) {\r\n      if (poi[i].id === el.id) showAddButton = false;\r\n    }\r\n    if (showAddButton) {\r\n      return (\r\n        <input\r\n          className=\"btn btn-primary\"\r\n          type=\"submit\"\r\n          value=\"Add to tour\"\r\n          onClick={() => addToPoi(el)}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <input\r\n          className=\"btn btn-warning\"\r\n          type=\"submit\"\r\n          value=\"remove from tour\"\r\n          onClick={() => removeFromPoi(el)}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  ////////Calculates distance between two points///////////\r\n  ////////////and return distance in meters////////////////\r\n  const getDistance = (origin, destination) => {\r\n    var lon1 = toRadian(origin[1]),\r\n      lat1 = toRadian(origin[0]),\r\n      lon2 = toRadian(destination[1]),\r\n      lat2 = toRadian(destination[0]);\r\n    var deltaLat = lat2 - lat1;\r\n    var deltaLon = lon2 - lon1;\r\n\r\n    var a =\r\n      Math.pow(Math.sin(deltaLat / 2), 2) +\r\n      Math.cos(lat1) * Math.cos(lat2) * Math.pow(Math.sin(deltaLon / 2), 2);\r\n    var c = 2 * Math.asin(Math.sqrt(a));\r\n    var EARTH_RADIUS = 6371;\r\n    return c * EARTH_RADIUS * 1000;\r\n  };\r\n\r\n  const toRadian = (degree) => {\r\n    return (degree * Math.PI) / 180;\r\n  };\r\n  /////////////////////////////////////////////////////////////\r\n\r\n  const oneCard = (el) => {\r\n    var distance = getDistance(\r\n      [latlng.lat, latlng.lng],\r\n      [el.geoLat, el.geoLng]\r\n    );\r\n    if (distance < radius * 1000)\r\n      return (\r\n        <>\r\n          <Card className=\"card-PoIforTourOnPopup\" style={{ flex: 1 }}>\r\n            <Card.Body>\r\n              <div key={el.id}>\r\n                <Card.Title>\r\n                  <center>\r\n                    <h4>{`${el.name}`}</h4>\r\n                  </center>\r\n                </Card.Title>\r\n                <Carousel>\r\n                  {el.imageUrl\r\n                    ? el.imageUrl.map(({ id, url }) => {\r\n                        return (\r\n                          <Carousel.Item interval={500}>\r\n                            <div key={id}>\r\n                              <img\r\n                                className=\"d-block w-100\"\r\n                                src={url}\r\n                                alt=\"\"\r\n                                width={320}\r\n                                height={225}\r\n                              />\r\n                            </div>\r\n                          </Carousel.Item>\r\n                        );\r\n                      })\r\n                    : \"\"}\r\n                </Carousel>\r\n                <br />\r\n                <b>City:</b> {el.city} <br />\r\n                <b>type:</b> {el.type} <br />\r\n                <br />\r\n                <b>Decription for Guide :</b> {el.descForGuide} <br />\r\n                <br />\r\n                <b>Decription for Customer:</b> {el.descForCustomer} <br />\r\n                <br />\r\n                <b>Location:</b> {el.location} <br />\r\n              </div>\r\n            </Card.Body>\r\n            <Card.Footer>\r\n              <center>{diplayAddOrDeleteButton(el)}</center>\r\n            </Card.Footer>\r\n          </Card>\r\n        </>\r\n      );\r\n  };\r\n\r\n  const displayCard = () => {\r\n    return (\r\n      <CardDeck>\r\n        {pointOfInterestList\r\n          ? pointOfInterestList.map((el) => oneCard(el))\r\n          : \"\"}\r\n      </CardDeck>\r\n    );\r\n  };\r\n\r\n  const enableAddPoisButton = () => {\r\n    if (latlng.lat !== undefined)\r\n      return (\r\n        <button\r\n          className=\"btn btn-primary btn-lg\"\r\n          type=\"submit\"\r\n          onClick={togglePoiPopup}\r\n        >\r\n          {\" \"}\r\n          Add PoIs{\" \"}\r\n        </button>\r\n      );\r\n    else {\r\n      return (\r\n        <button className=\"btn btn-primary btn-lg\" disabled>\r\n          {\" \"}\r\n          Add PoIs{\" \"}\r\n        </button>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NavigationBar />\r\n      <div>\r\n        <form>\r\n          <h2 className=\"text-center\">Create New Tour</h2>\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeTitle}\r\n              value={title}\r\n              placeholder=\"Title\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <textarea\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeDescForCustomer}\r\n              value={descForCustomer}\r\n              placeholder=\"Description for customer.\"\r\n              rows=\"3\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <textarea\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeDescForGuide}\r\n              value={descForGuide}\r\n              placeholder=\"Description for guide.\"\r\n              rows=\"3\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeTourCost}\r\n              value={tourCost}\r\n              placeholder=\"Tour Cost*\"\r\n            />\r\n            <small class=\"form-text text-primary\">\r\n              *do not include cost of car, tour guide or tickets.\r\n            </small>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeAdditionalTime}\r\n              value={additionalTime}\r\n              placeholder=\"Additional time*\"\r\n            />\r\n            <small class=\"form-text text-primary\">\r\n              *do not include time that will be spend for points of interests.\r\n            </small>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <textarea\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={location}\r\n              placeholder=\"Click the 'Map' button to add the general area of the tour.\"\r\n              rows=\"3\"\r\n            />{\" \"}\r\n            <center>\r\n              <br />\r\n              <button\r\n                className=\"btn btn-primary btn-lg\"\r\n                type=\"submit\"\r\n                onClick={toggleMapPopup}\r\n              >\r\n                <i className=\"fas fa-map-marked-alt\">{`  Map`}</i>\r\n              </button>\r\n            </center>\r\n            <small class=\"form-text text-info\">\r\n              Tip: Zooming out helps for selecting a general location name of\r\n              your tour.\r\n            </small>\r\n          </div>\r\n\r\n          <div>\r\n            <br />\r\n          </div>\r\n\r\n          <center>{enableAddPoisButton()}</center>\r\n          <div>\r\n            <br />\r\n            <table>\r\n              <tr>\r\n                <td>\r\n                  {\" \"}\r\n                  <h6>Upload Image</h6>{\" \"}\r\n                </td>\r\n                <td>\r\n                  <input type=\"file\" accept=\"image/*\" onChange={readImages} />\r\n                  {imageUrl\r\n                    ? imageUrl.map(({ id, url }) => {\r\n                        return (\r\n                          <div key={id}>\r\n                            <img width={150} height={113} src={url} alt=\"\" />\r\n                            <button\r\n                              className=\"btn btn-danger\"\r\n                              onClick={() => deleteImage(id)}\r\n                            >\r\n                              <i className=\"fa fa-trash-alt\"></i>\r\n                            </button>\r\n                          </div>\r\n                        );\r\n                      })\r\n                    : \"\"}\r\n                </td>\r\n              </tr>\r\n              <tr></tr>\r\n              <tr>\r\n                {\" \"}\r\n                <div className=\"form-group\">\r\n                  <SubmitButton />\r\n                  {isOpen && (\r\n                    <PopupMsg\r\n                      content={\r\n                        <>\r\n                          <b>Question</b>\r\n                          <p>Are you sure you want to create this tour?</p>\r\n                          <center>\r\n                            <Link\r\n                              to=\"/Tours\"\r\n                              className=\"btn btn-success btn-lg\"\r\n                              onClick={createTour}\r\n                            >\r\n                              Yes{\" \"}\r\n                            </Link>\r\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                            <button\r\n                              className=\"btn btn-warning btn-lg\"\r\n                              type=\"submit\"\r\n                              onClick={togglePopupMsg}\r\n                            >\r\n                              {\" \"}\r\n                              No{\" \"}\r\n                            </button>\r\n                          </center>\r\n                        </>\r\n                      }\r\n                    />\r\n                  )}\r\n\r\n                  {isMapOpen && (\r\n                    <PopupMap\r\n                      content={\r\n                        <>\r\n                          <h3> Insert Place </h3>\r\n                          <div>\r\n                            <Map.LeafletMap\r\n                              setLocationLatlng={setLocationLatlng}\r\n                              setLocationName={setLocationName}\r\n                            />\r\n                          </div>\r\n                          <br />\r\n                          <center>\r\n                            {\" \"}\r\n                            <button\r\n                              className=\"btn btn-success btn-lg\"\r\n                              type=\"submit\"\r\n                              onClick={toggleMapPopup}\r\n                            >\r\n                              {\" \"}\r\n                              Done{\" \"}\r\n                            </button>\r\n                          </center>\r\n                        </>\r\n                      }\r\n                    />\r\n                  )}\r\n\r\n                  {isPoiPopupOpen && (\r\n                    <PopupCards\r\n                      content={\r\n                        <>\r\n                          <h4>Add Points of interest to the Tour</h4>\r\n                          <div className=\"form-group\">\r\n                            <input\r\n                              type=\"number\"\r\n                              className=\"form-control\"\r\n                              onChange={handleOnChangeRadius}\r\n                              value={radius}\r\n                              placeholder=\"Radius for displaying PoIs*\"\r\n                            />\r\n                            <small class=\"form-text text-primary\">\r\n                              *Ex. Write 20 for displaying PoIs in 20km radius\r\n                              around the area you set for the tour.\r\n                            </small>\r\n                          </div>\r\n                          <center>\r\n                            <div>\r\n                              <center>{displayCard()}</center>\r\n                            </div>\r\n                            <br />{\" \"}\r\n                            <button\r\n                              className=\"btn btn-success btn-lg\"\r\n                              type=\"submit\"\r\n                              onClick={togglePoiPopup}\r\n                            >\r\n                              {\" \"}\r\n                              Done{\" \"}\r\n                            </button>\r\n                          </center>\r\n                        </>\r\n                      }\r\n                    />\r\n                  )}\r\n                </div>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport NavigationBar from \"./NavigationBar\";\r\nimport db from \"../firebase\";\r\nimport PopupMsg from \"./control/PopupMsg\";\r\nimport PopupMap from \"./control/PopupMap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Map from \"./control/LeafletMap\";\r\nimport \"leaflet/dist/leaflet.css\";\r\n\r\nexport default function AddTourGuide() {\r\n  useEffect(() => {\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddTourGuide\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Open AddTourGuide page\",\r\n    });\r\n  }, []);\r\n\r\n\r\n\r\n\r\n  const [latlng, setLatlng] = useState({ latitude: 0, longitude: 0 });\r\n  const setLocationLatlng = (newLatlng) => {\r\n    setLatlng(newLatlng);\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddTourGuide\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Set TourGuide's LatLng\",\r\n    });\r\n  };\r\n\r\n\r\n  function SubmitButton(){\r\n    if (name && age && languages && telephone && email && (latlng.lat!==undefined)){\r\n      return <button className=\"btn btn-success btn-lg\"\r\n              type=\"submit\"\r\n              onClick={togglePopupMsg}> Submit </button>\r\n    } else {\r\n      return <button className=\"btn btn-success btn-lg\"\r\n                    type=\"submit\" disabled> Submit </button>\r\n    };\r\n  };\r\n\r\n\r\n  //To location και το address θα είναι το ίδιο\r\n  //Όταν θα χρησιμοποιεί την εφαρμογή κινητού, το\r\n  //location θα αντιστοιχεί στην πραγματική του θέση\r\n  const [location, setLocation] = useState(\r\n    \"Click 'Map' to set tour guide's address.\"\r\n  );\r\n  const setLocationName = (newName) => {\r\n    setLocation(newName);\r\n  };\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const handleOnChangeNAME = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const [age, setAge] = useState(\"\");\r\n  const handleOnChangeAGE = (e) => {\r\n    setAge(e.target.value);\r\n  };\r\n\r\n  const [languages, setLanguages] = useState(\"\");\r\n  const handleOnChangeLANGUAGES = (e) => {\r\n    setLanguages(e.target.value);\r\n  };\r\n\r\n  const [telephone, setTelephone] = useState(\"\");\r\n  const handleOnChangeTELEPHONE = (e) => {\r\n    setTelephone(e.target.value);\r\n  };\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const handleOnChangeEMAIL = (e) => {\r\n    setEmail(e.target.value);\r\n  };\r\n\r\n  const [isMapOpen, setIsMapOpen] = useState(false);\r\n\r\n  const toggleMapPopup = (e) => {\r\n    e.preventDefault();\r\n    setIsMapOpen(!isMapOpen);\r\n\r\n    if (!isMapOpen) {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"AddTourGuide\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Open map popup\",\r\n      });\r\n    } else {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"AddTourGUide\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Close map popup\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const togglePopupMsg = (e) => {\r\n    e.preventDefault();\r\n    setIsOpen(!isOpen);\r\n\r\n    if (!isOpen) {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"AddTourGuide\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Open popup msg\",\r\n      });\r\n    } else {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"AddTourGuide\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Close popup msg\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const [imageUrl, setImageUrl] = useState([]);\r\n\r\n  const readImages = async (e) => {\r\n    const file = e.target.files[0];\r\n    const id = uuid();\r\n    const storageRef = db.storage().ref(\"image\").child(id);\r\n    const imageRef = db.database().ref(\"image\").child(\"temp\").child(id);\r\n    await storageRef.put(file);\r\n    storageRef.getDownloadURL().then((url) => {\r\n      imageRef.set(url);\r\n      const newState = [...imageUrl, { id, url }];\r\n      setImageUrl(newState);\r\n    });\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddTourGuide\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Read Image\",\r\n    });\r\n  };\r\n\r\n  const getImageUrl = () => {\r\n    const imageRef = db.database().ref(\"image\").child(\"temp\");\r\n    imageRef.on(\"value\", (snapshot) => {\r\n      const imageUrls = snapshot.val();\r\n      const urls = [];\r\n      for (let id in imageUrls) {\r\n        urls.push({ id, url: imageUrls[id] });\r\n      }\r\n      const newState = [...imageUrl, ...urls];\r\n      setImageUrl(newState);\r\n    });\r\n  };\r\n\r\n\r\n  const deleteImage = (id) => {\r\n    const storageRef = db.storage().ref(\"image\").child(id);\r\n    const imageRef = db.database().ref(\"image\").child(\"temp\").child(id);\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddTourGuide\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Delete Image\",\r\n    });\r\n\r\n    imageRef.remove().then(() => {\r\n      storageRef.delete();\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getImageUrl();\r\n  }, []);\r\n\r\n\r\n  const createTourGuide = () => {\r\n    var tourGuideRef = db.database().ref(\"tourGuide\");\r\n    var tourGuide = {\r\n      name,\r\n      age,\r\n      languages,\r\n      address: location,\r\n      telephone,\r\n      email,\r\n      availableForHire: true,\r\n      imageUrl,\r\n      geoLat: latlng.lat,\r\n      geoLong: latlng.lng,\r\n      location: location,\r\n    };\r\n\r\n    tourGuideRef.push(tourGuide);\r\n    const imageRef = db.database().ref(\"image\");\r\n    imageRef.remove();\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddTourGuide\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Created New TourGuide\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NavigationBar />\r\n      <div className=\"formStyle\">\r\n\r\n        <form>\r\n          <h2 className=\"text-center\">Import New Tour Guide</h2>\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeNAME}\r\n              value={name}\r\n              placeholder=\"Name\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeAGE}\r\n              value={age}\r\n              placeholder=\"Age\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeLANGUAGES}\r\n              value={languages}\r\n              placeholder=\"Languages\"\r\n            />\r\n            <small class=\"form-text text-info\">\r\n              *Tip: You can type short versions for countries eg GR, EN, FR\r\n            </small>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeTELEPHONE}\r\n              value={telephone}\r\n              placeholder=\"Phone\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeEMAIL}\r\n              value={email}\r\n              placeholder=\"email\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <textarea\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={location}\r\n              placeholder=\"Address *\"\r\n              rows=\"3\"\r\n            />\r\n          </div>\r\n\r\n          <center>\r\n            <button\r\n              className=\"btn btn-primary btn-lg\"\r\n              type=\"submit\"\r\n              onClick={toggleMapPopup}\r\n            >\r\n              <i className=\"fas fa-map-marked-alt\">{`  Map`}</i>\r\n            </button>\r\n            <small class=\"form-text text-primary\">\r\n              *Click the 'Map' button to find and add tour guide's address.\r\n            </small>\r\n          </center>\r\n          <br />\r\n          <div>\r\n            <table>\r\n              <tr>\r\n                <td>\r\n                  {\" \"}\r\n                  <h6>Upload Image</h6>{\" \"}\r\n                </td>\r\n                <td>\r\n                  <input type=\"file\" accept=\"image/*\" onChange={readImages} />\r\n                  {imageUrl\r\n                    ? imageUrl.map(({ id, url }) => {\r\n                        return (\r\n                          <div key={id}>\r\n                            <img width={150} height={113} src={url} alt=\"\" />\r\n                            <button\r\n                              className=\"btn btn-danger\"\r\n                              onClick={() => deleteImage(id)}\r\n                            >\r\n                              <i className=\"fa fa-trash-alt\"></i>\r\n                            </button>\r\n                          </div>\r\n                        );\r\n                      })\r\n                    : \"\"}\r\n                </td>\r\n              </tr>\r\n              <tr></tr>\r\n              <tr>\r\n                {\" \"}\r\n                <div className=\"form-group\">\r\n                  <SubmitButton/>\r\n\r\n                  {isOpen && (\r\n                    <PopupMsg\r\n                      content={\r\n                        <>\r\n                          <b>Question</b>\r\n                          <p>Are you sure you want to import the tour guide?</p>\r\n                          <center>\r\n                            <Link\r\n                              to=\"/TourGuides\"\r\n                              className=\"btn btn-success btn-lg\"\r\n                              onClick={createTourGuide}\r\n                            >\r\n                              Yes{\" \"}\r\n                            </Link>\r\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                            <button\r\n                              className=\"btn btn-warning btn-lg\"\r\n                              type=\"submit\"\r\n                              onClick={togglePopupMsg}\r\n                            >\r\n                              {\" \"}\r\n                              No{\" \"}\r\n                            </button>\r\n                          </center>\r\n                        </>\r\n                      }\r\n                      handleClose={togglePopupMsg}\r\n                    />\r\n                  )}\r\n\r\n                  {isMapOpen && (\r\n                    <PopupMap\r\n                      content={\r\n                        <>\r\n                          <h3> Insert tour guide's address </h3>\r\n                          <div>\r\n                            <Map.LeafletMap\r\n                              setLocationLatlng={setLocationLatlng}\r\n                              setLocationName={setLocationName}\r\n                            />\r\n                          </div>\r\n\r\n                          <center>\r\n                            {\" \"}\r\n                            <button\r\n                              className=\"btn btn-danger btn-lg\"\r\n                              type=\"submit\"\r\n                              onClick={toggleMapPopup}\r\n                            >\r\n                              {\" \"}\r\n                              Cancel{\" \"}\r\n                            </button>\r\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                            <button\r\n                              className=\"btn btn-success btn-lg\"\r\n                              type=\"submit\"\r\n                              onClick={toggleMapPopup}\r\n                            >\r\n                              {\" \"}\r\n                              Accept{\" \"}\r\n                            </button>\r\n                          </center>\r\n                        </>\r\n                      }\r\n                      handleClose={toggleMapPopup}\r\n                    />\r\n                  )}\r\n                </div>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport NavigationBar from \"./NavigationBar\";\r\nimport db from \"../firebase\";\r\nimport PopupMsg from \"./control/PopupMsg\";\r\nimport PopupMap from \"./control/PopupMap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Map from \"./control/LeafletMap\";\r\nimport \"leaflet/dist/leaflet.css\";\r\n\r\nexport default function AddVehicles() {\r\n  useEffect(() => {\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddVehicle\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Open AddVehicle page\",\r\n    });\r\n  }, []);\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [passengers, setPassengers] = useState(\"\");\r\n  const [fuel, setFuel] = useState(\"\");\r\n  const [year, setYear] = useState(\"\");\r\n  const [cph, setCPH] = useState(\"\");\r\n  const [wiFi, setWiFi] = useState(\"\");\r\n  const [imageUrl, setImageUrl] = useState([]);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [isMapOpen, setIsMapOpen] = useState(false);\r\n\r\n  function SubmitButton() {\r\n    if (\r\n      title &&\r\n      type &&\r\n      passengers &&\r\n      fuel &&\r\n      year &&\r\n      cph &&\r\n      wiFi &&\r\n      latlng.lat !== undefined\r\n    ) {\r\n      return (\r\n        <button\r\n          className=\"btn btn-success btn-lg\"\r\n          type=\"submit\"\r\n          onClick={togglePopupMsg}\r\n        >\r\n          {\" \"}\r\n          Submit{\" \"}\r\n        </button>\r\n      );\r\n    } else {\r\n      return (\r\n        <button className=\"btn btn-success btn-lg\" type=\"submit\" disabled>\r\n          {\" \"}\r\n          Submit{\" \"}\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n\r\n  const [latlng, setLatlng] = useState({ latitude: 0, longitude: 0 });\r\n  const setLocationLatlng = (newLatlng) => {\r\n    setLatlng(newLatlng);\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddVehicle\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Set Vehicle's LatLng\",\r\n    });\r\n  };\r\n\r\n  const [location, setLocation] = useState(\r\n    \"Click 'Map' to set vehicle's location.\"\r\n  );\r\n  const setLocationName = (newName) => {\r\n    setLocation(newName);\r\n  };\r\n\r\n  const handleOnChangeTITLE = (e) => {\r\n    setTitle(e.target.value);\r\n  };\r\n  const handleOnChangeTYPE = (e) => {\r\n    setType(e.target.value);\r\n  };\r\n  const handleOnChangePASSENGERS = (e) => {\r\n    setPassengers(e.target.value);\r\n  };\r\n  const handleOnChangeFUEL = (e) => {\r\n    setFuel(e.target.value);\r\n  };\r\n  const handleOnChangeYEAR = (e) => {\r\n    setYear(e.target.value);\r\n  };\r\n  const handleOnChangeCPH = (e) => {\r\n    setCPH(e.target.value);\r\n  };\r\n\r\n  const handleOnChangeWIFI = (e) => {\r\n    setWiFi(e.target.value);\r\n  };\r\n\r\n  const toggleMapPopup = (e) => {\r\n    e.preventDefault();\r\n    setIsMapOpen(!isMapOpen);\r\n\r\n    if (!isMapOpen) {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"AddVehicle\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Open map popup\",\r\n      });\r\n    } else {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"AddVehicle\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Close map popup\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const togglePopupMsg = (e) => {\r\n    e.preventDefault();\r\n    setIsOpen(!isOpen);\r\n\r\n    if (!isOpen) {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"AddVehicle\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Open popup msg\",\r\n      });\r\n    } else {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"AddVehicle\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Close popup msg\",\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  const readImages = async (e) => {\r\n    const file = e.target.files[0];\r\n    const id = uuid();\r\n    const storageRef = db.storage().ref(\"image\").child(id);\r\n    const imageRef = db.database().ref(\"image\").child(\"temp\").child(id);\r\n    await storageRef.put(file);\r\n    storageRef.getDownloadURL().then((url) => {\r\n      imageRef.set(url);\r\n      const newState = [...imageUrl, { id, url }];\r\n      setImageUrl(newState);\r\n    });\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddVehicle\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Read Image\",\r\n    });\r\n  };\r\n\r\n  const getImageUrl = () => {\r\n    const imageRef = db.database().ref(\"image\").child(\"temp\");\r\n    imageRef.on(\"value\", (snapshot) => {\r\n      const imageUrls = snapshot.val();\r\n      const urls = [];\r\n      for (let id in imageUrls) {\r\n        urls.push({ id, url: imageUrls[id] });\r\n      }\r\n      const newState = [...imageUrl, ...urls];\r\n      setImageUrl(newState);\r\n    });\r\n  };\r\n\r\n  const deleteImage = (id) => {\r\n    const storageRef = db.storage().ref(\"image\").child(id);\r\n    const imageRef = db.database().ref(\"image\").child(\"temp\").child(id);\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddVehicle\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Delete Image\",\r\n    });\r\n\r\n    imageRef.remove().then(() => {\r\n      storageRef.delete();\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getImageUrl();\r\n  }, []);\r\n\r\n  const createVehicle = () => {\r\n    var vehicleRef = db.database().ref(\"vehicle\");\r\n    var vehicle = {\r\n      title,\r\n      type,\r\n      passengers,\r\n      fuel,\r\n      year,\r\n      cph,\r\n      wiFi,\r\n      location: location,\r\n      availableForRent: true,\r\n      imageUrl,\r\n      geoLat: latlng.lat,\r\n      geoLong: latlng.lng,\r\n    };\r\n    vehicleRef.push(vehicle);\r\n    const imageRef = db.database().ref(\"image\");\r\n    imageRef.remove();\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"AddVehicle\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Created New Vehicle\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NavigationBar />\r\n      <div className=\"formStyle\">\r\n        <form>\r\n          <h2 className=\"text-center\">Import New Vehicle</h2>\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeTITLE}\r\n              value={title}\r\n              placeholder=\"Title\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeTYPE}\r\n              value={type}\r\n              placeholder=\"Type\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangePASSENGERS}\r\n              value={passengers}\r\n              placeholder=\"Number of passengers\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeFUEL}\r\n              value={fuel}\r\n              placeholder=\"Fuel\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeYEAR}\r\n              value={year}\r\n              placeholder=\"Year\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeCPH}\r\n              value={cph}\r\n              placeholder=\"Cost per hour\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              onChange={handleOnChangeWIFI}\r\n              value={wiFi}\r\n              placeholder=\"WiFi\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <textarea\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={location}\r\n              placeholder=\"Click the 'Map' button to add vehicle's location.\"\r\n              rows=\"3\"\r\n            />\r\n          </div>\r\n\r\n          <center>\r\n            <button\r\n              className=\"btn btn-primary btn-lg\"\r\n              type=\"submit\"\r\n              onClick={toggleMapPopup}\r\n            >\r\n              <i className=\"fas fa-map-marked-alt\">{`  Map`}</i>\r\n            </button>\r\n          </center>\r\n          <div>\r\n            <table>\r\n              <tr>\r\n                <td>\r\n                  {\" \"}\r\n                  <h6>Upload Image</h6>{\" \"}\r\n                </td>\r\n                <td>\r\n                  <input type=\"file\" accept=\"image/*\" onChange={readImages} />\r\n                  {imageUrl\r\n                    ? imageUrl.map(({ id, url }) => {\r\n                        return (\r\n                          <div key={id}>\r\n                            <img width={150} height={113} src={url} alt=\"\" />\r\n                            <button\r\n                              className=\"btn btn-danger\"\r\n                              onClick={() => deleteImage(id)}\r\n                            >\r\n                              <i className=\"fa fa-trash-alt\"></i>\r\n                            </button>\r\n                          </div>\r\n                        );\r\n                      })\r\n                    : \"\"}\r\n                </td>\r\n              </tr>\r\n              <tr></tr>\r\n              <tr>\r\n                {\" \"}\r\n                <div className=\"form-group\">\r\n                  <SubmitButton />\r\n                  {isOpen && (\r\n                    <PopupMsg\r\n                      content={\r\n                        <>\r\n                          <b>Question</b>\r\n                          <p>Are you sure you want to import the vehicle?</p>\r\n                          <center>\r\n                            <Link\r\n                              to=\"/Vehicles\"\r\n                              className=\"btn btn-success btn-lg\"\r\n                              onClick={createVehicle}\r\n                            >\r\n                              Yes{\" \"}\r\n                            </Link>\r\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                            <button\r\n                              className=\"btn btn-warning btn-lg\"\r\n                              type=\"submit\"\r\n                              onClick={togglePopupMsg}\r\n                            >\r\n                              {\" \"}\r\n                              No{\" \"}\r\n                            </button>\r\n                          </center>\r\n                        </>\r\n                      }\r\n                      handleClose={togglePopupMsg}\r\n                    />\r\n                  )}\r\n\r\n                  {isMapOpen && (\r\n                    <PopupMap\r\n                      content={\r\n                        <>\r\n                          <h3> Insert vehicle's location </h3>\r\n                          <div>\r\n                            <Map.LeafletMap\r\n                              setLocationLatlng={setLocationLatlng}\r\n                              setLocationName={setLocationName}\r\n                            />\r\n                          </div>\r\n                          <br />\r\n                          <center>\r\n                            {\" \"}\r\n                            <button\r\n                              className=\"btn btn-success btn-lg\"\r\n                              type=\"submit\"\r\n                              onClick={toggleMapPopup}\r\n                            >\r\n                              {\" \"}\r\n                              Done{\" \"}\r\n                            </button>\r\n                          </center>\r\n                        </>\r\n                      }\r\n                      handleClose={toggleMapPopup}\r\n                    />\r\n                  )}\r\n                </div>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport PopupMsg from \"./PopupMsg\";\r\nimport { Carousel, Card, Table } from \"react-bootstrap\";\r\nimport firebase from \"../../firebase\";\r\n\r\nexport default function PointOfInterestList({ poi }) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const togglePopupMsg = (e) => {\r\n    e.preventDefault();\r\n    setIsOpen(!isOpen);\r\n\r\n    if (!isOpen) {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"ViewPoIs\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Open popup msg\",\r\n      });\r\n    } \r\n\r\n  };\r\n\r\n  const deletePOI = () => {\r\n    const poiRef = firebase.database().ref(\"poi\").child(poi.id);\r\n    poiRef.remove();\r\n    setIsOpen(!isOpen);\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"ViewPoIs\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Delete PoI\",\r\n    });\r\n \r\n\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Card className=\"cardItem\" style={{ flex: 1 }}>\r\n        <Card.Body>\r\n          <Table striped bordered hover>\r\n            <thead></thead>\r\n            <tbody>\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <b>\r\n                    <center>\r\n                      <Carousel>\r\n                        {poi.imageUrl\r\n                          ? poi.imageUrl.map(({ id, url }) => {\r\n                              return (\r\n                                <Carousel.Item interval={500}>\r\n                                  <div key={id}>\r\n                                    <img\r\n                                      className=\"d-block w-100\"\r\n                                      src={url}\r\n                                      alt=\"\"\r\n                                      width={320}\r\n                                      height={225}\r\n                                    />\r\n                                  </div>\r\n                                </Carousel.Item>\r\n                              );\r\n                            })\r\n                          : \"\"}\r\n                      </Carousel>\r\n                    </center>\r\n                  </b>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <b>\r\n                    <Card.Title>\r\n                      <center>\r\n                        {\" \"}\r\n                        <h2>{poi.name}</h2>\r\n                      </center>\r\n                    </Card.Title>\r\n                  </b>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <b>Description Customer:</b> {poi.descForCustomer}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <b>Description Guide:</b> {poi.descForGuide}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <b>City:</b>\r\n                  <br /> {poi.city}\r\n                </td>\r\n\r\n                <td>\r\n                  <b>Type:</b>\r\n                  <br /> {poi.type}\r\n                </td>\r\n              </tr>\r\n\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <b>Location:</b> {poi.location}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                  <td>\r\n                    <b>POI Cost:</b> {poi.ticketCost} €\r\n                  </td>\r\n                  <td>\r\n                    <b>Time:</b> {poi.time}'\r\n                  </td>\r\n                </tr>\r\n            </tbody>\r\n          </Table>\r\n        </Card.Body>\r\n        <Card.Footer>\r\n          <center>\r\n            <button className=\"btn btn-danger\" onClick={togglePopupMsg}>\r\n              <i className=\"fa fa-trash-alt\"></i>\r\n            </button>\r\n          </center>\r\n        </Card.Footer>\r\n      </Card>\r\n      {isOpen && (\r\n        <PopupMsg\r\n          content={\r\n            <>\r\n              <b>Question</b>\r\n              <p>Are you sure you want to delete this POI?</p>\r\n              <center>\r\n                <button\r\n                  className=\"btn btn-danger btn-lg\"\r\n                  type=\"submit\"\r\n                  onClick={deletePOI}\r\n                >\r\n                  {\" \"}\r\n                  Yes{\" \"}\r\n                </button>\r\n                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                <button\r\n                  className=\"btn btn-warning btn-lg\"\r\n                  type=\"submit\"\r\n                  onClick={togglePopupMsg}\r\n                >\r\n                  {\" \"}\r\n                  No{\" \"}\r\n                </button>\r\n              </center>\r\n            </>\r\n          }\r\n          handleClose={togglePopupMsg}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport NavigationBar from \"./NavigationBar\";\r\nimport firebase from \"../firebase\";\r\nimport PointOfInterestList from \"./control/PointOfInterestList\";\r\nimport { CardDeck } from \"react-bootstrap\";\r\n\r\nexport default function PointOfInterest() {\r\n  const [pointOfInterestList, setPointOfInterestList] = useState();\r\n\r\n  useEffect(() => {\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"ViewPoIs\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Open PoIs page\",\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const pointOfInterestRef = firebase.database().ref(\"poi\");\r\n    pointOfInterestRef.on(\"value\", (snapshot) => {\r\n      const pointOfInterest = snapshot.val();\r\n      const pointOfInterestList = [];\r\n      for (let id in pointOfInterest) {\r\n        pointOfInterestList.push({ id, ...pointOfInterest[id] });\r\n      }\r\n      setPointOfInterestList(pointOfInterestList);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <NavigationBar />\r\n      <div>\r\n        <br />\r\n        <b>Points Of Interest {`>`} All Points Of Interest </b>\r\n        <CardDeck>\r\n          {pointOfInterestList\r\n            ? pointOfInterestList.map((poi, index) => (\r\n                <PointOfInterestList poi={poi} key={index} />\r\n              ))\r\n            : \"\"}\r\n        </CardDeck>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport PopupMsg from \"./PopupMsg\";\r\nimport { Card, Table } from \"react-bootstrap\";\r\nimport firebase from \"../../firebase\";\r\n\r\nexport default function RentRequestList({ request }) {\r\n\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    const togglePopupMsg = (e) => {\r\n      e.preventDefault();\r\n      setIsOpen(!isOpen);\r\n      if (!isOpen) {\r\n        window.ga(\"send\", {\r\n          hitType: \"event\",\r\n          eventCategory: \"RentRequest\",\r\n          eventAction: \"click\",\r\n          eventLabel: Date().toLocaleString() + \" - Open popup msg\",\r\n        });\r\n      } \r\n    };\r\n  \r\n    const deleteRentRequest = () => {\r\n      const rentReqRef = firebase.database().ref(\"rentRequest\").child(request.id);\r\n      rentReqRef.remove();\r\n      setIsOpen(!isOpen);\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"RentRequest\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Delete request\",\r\n      });\r\n    };\r\n\r\n    const changeReady = () => {\r\n      const rentReqRef = firebase.database().ref(\"rentRequest\").child(request.id);\r\n      if (request.status=='Accepted'){  \r\n      rentReqRef.update({\r\n          status: 'Ready'});\r\n          window.ga(\"send\", {\r\n            hitType: \"event\",\r\n            eventCategory: \"RentRequest\",\r\n            eventAction: \"click\",\r\n            eventLabel: Date().toLocaleString() + \" - Request status: Ready\",\r\n          });\r\n        }\r\n      else {\r\n      rentReqRef.update({\r\n          status: 'Accepted'});\r\n          window.ga(\"send\", {\r\n            hitType: \"event\",\r\n            eventCategory: \"RentRequest\",\r\n            eventAction: \"click\",\r\n            eventLabel: Date().toLocaleString() + \" - Request status: Accepted\",\r\n          });\r\n        \r\n      };\r\n\r\n    };\r\n\r\n\r\n\r\n    function ReadyButton(){\r\n      if (request.isAccepted){\r\n        return <button className=\"btn btn-success\"  onClick={changeReady}> \r\n                <i className =\"fas fa-check\"></i>\r\n               </button>\r\n      } else {\r\n        return <button className=\"btn btn-success\" disabled>\r\n                <i className =\"fas fa-check\"></i>\r\n               </button>\r\n      };\r\n    };\r\n  \r\n\r\n  return (\r\n    <div>\r\n\r\n      <Card className=\"cardItem\" style={{ flex: 1 }}>\r\n        <Card.Body>\r\n          <Table striped bordered hover>\r\n            <thead></thead>\r\n            <tbody>\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <b>\r\n                    <center>\r\n                     <b>Request Id:</b> {request.id}\r\n                    </center>\r\n                  </b>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <Card.Title>\r\n                    <center>\r\n                    <b>Tour: </b> {request.selectedTourTitle}\r\n                    </center>\r\n                  </Card.Title>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n              <td colSpan=\"2\">\r\n                <center>\r\n                <b>Car:</b> {request.selectedCarTitle}\r\n                </center>\r\n              </td>\r\n              </tr>\r\n              <tr>\r\n              <td colSpan=\"2\">\r\n                <center>\r\n                <b>Start Location: </b> {request.startLocationName} \r\n  \r\n                </center>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n              <td colSpan=\"2\">\r\n                <center>\r\n                <b>Finish Location: </b> {request.finishLocationName}\r\n                </center>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                  <td>\r\n                    <center>\r\n                      <b>Requested by: </b> {request.user}\r\n                    </center>\r\n\r\n                  </td>\r\n                  <td>\r\n                    <center>\r\n                      <b>Total Cost: </b> {request.totalCost}\r\n                    </center>\r\n                  </td>\r\n              </tr>\r\n              <tr>\r\n                <td colspan=\"2\">\r\n                    <b>Status: </b> {request.status}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td colspan=\"2\">\r\n                    <b>Assigned to: </b> {request.assignedTourGuide}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <center>\r\n                    {request.isAccepted ? (\r\n                      <b style={{ color: \"green\" }}>Assigned</b>\r\n                    ) : (\r\n                      <b style={{ color: \"red\" }}>Unassigned</b>\r\n                    )}{\" \"}\r\n                  </center>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </Table>\r\n        </Card.Body>\r\n        <Card.Footer>\r\n        <center>\r\n            <button className=\"btn btn-danger\" onClick={togglePopupMsg}>\r\n              <i className = \"fa fa-trash-alt\"></i>\r\n            </button>\r\n            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;          \r\n            <ReadyButton/>\r\n        </center>\r\n        </Card.Footer>\r\n      </Card>\r\n      {isOpen && (\r\n        <PopupMsg\r\n          content={\r\n            <>\r\n              <b>Question</b>\r\n              <p>Are you sure you want to delete this rent request?</p>\r\n              <center>\r\n                <button\r\n                  className=\"btn btn-danger btn-lg\"\r\n                  type=\"submit\"\r\n                  onClick={deleteRentRequest}\r\n                >\r\n                  {\" \"}\r\n                  Yes{\" \"}\r\n                </button>\r\n                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                <button\r\n                  className=\"btn btn-warning btn-lg\"\r\n                  type=\"submit\"\r\n                  onClick={togglePopupMsg}\r\n                >\r\n                  {\" \"}\r\n                  No{\" \"}\r\n                </button>\r\n              </center>\r\n            </>\r\n          }\r\n          handleClose={togglePopupMsg}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport NavigationBar from \"./NavigationBar\";\r\nimport firebase from \"../firebase\";\r\nimport RentRequestList from \"./control/RentRequestList\";\r\nimport { CardDeck } from \"react-bootstrap\";\r\n\r\n\r\nexport default function RentRequests() {\r\n\r\n  useEffect(() => {\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"RentRequest\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Open RentRequest page\",\r\n    });\r\n  }, []);\r\n\r\n    const [rentRequestList, setRentRequestList] = useState();\r\n\r\n    useEffect(() => {\r\n      const rentReqRef = firebase.database().ref(\"rentRequest\");\r\n      rentReqRef.on(\"value\", (snapshot) => {\r\n        const request = snapshot.val();\r\n        const rentRequestList = [];\r\n        for (let id in request) {\r\n          rentRequestList.push({ id, ...request[id] });\r\n        }\r\n        setRentRequestList(rentRequestList);\r\n      });\r\n    }, []);\r\n  \r\n  return (\r\n    <>\r\n      <NavigationBar />\r\n      <div>\r\n        <br />\r\n        <b>Rent Requests</b>\r\n\r\n        <CardDeck>\r\n          {rentRequestList\r\n            ? rentRequestList.map((request, index) => (\r\n                <RentRequestList request={request} key={index} />\r\n              ))\r\n            : \"\"}\r\n        </CardDeck>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport NavigationBar from \"./NavigationBar\"\r\n\r\nexport default function Settings() {\r\n  return (\r\n    <>\r\n      < NavigationBar />\r\n      Settings\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Card, Carousel, Table, CardDeck } from \"react-bootstrap\";\r\nimport PopupMsg from \"./PopupMsg\";\r\nimport firebase from \"../../firebase\";\r\nimport PopupCards from \"./PopupForCards\";\r\n\r\nexport default function TourList({ tour }) {\r\n  const [pointOfInterestList, setPointOfInterestList] = useState();\r\n  useEffect(() => {\r\n    const pointOfInterestRef = firebase.database().ref(\"poi\");\r\n    pointOfInterestRef.on(\"value\", (snapshot) => {\r\n      const pointOfInterest = snapshot.val();\r\n      const pointOfInterestList = [];\r\n      for (let id in pointOfInterest) {\r\n        pointOfInterestList.push({ id, ...pointOfInterest[id] });\r\n      }\r\n      setPointOfInterestList(pointOfInterestList);\r\n      console.log(pointOfInterestList);\r\n    });\r\n  }, []);\r\n\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const togglePopupMsg = (e) => {\r\n    e.preventDefault();\r\n    setIsOpen(!isOpen);\r\n    \r\n    if (!isOpen) {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"ViewTours\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Open popup msg\",\r\n      });\r\n    } \r\n    //else gets logged when clicking delete tour\r\n\r\n  };\r\n\r\n  const [isPoisOpen, setIsPoisOpen] = useState(false);\r\n  const togglePoiPopupMsg = (e) => {\r\n    e.preventDefault();\r\n    setIsPoisOpen(!isPoisOpen);\r\n\r\n    if (!isPoisOpen) {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"ViewTours\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Open PoIs popup\",\r\n      });\r\n    } else {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"ViewTours\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Close PoIs popup\",\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  const oneCard = (el) => {\r\n    for (let i in tour.poi) {\r\n      if (tour.poi[i].id === el.id) {\r\n        return (\r\n          <>\r\n            <center>\r\n              <br />\r\n              <Card className=\"card-PoIforTourOnPopup\" style={{ flex: 1 }}>\r\n                <Card.Body>\r\n                  <div key={el.id}>\r\n                    <Card.Title>\r\n                      <center>\r\n                        <h4>{`${el.name}`}</h4>\r\n                      </center>\r\n                    </Card.Title>\r\n                    <Carousel>\r\n                      {el.imageUrl\r\n                        ? el.imageUrl.map(({ id, url }) => {\r\n                            return (\r\n                              <Carousel.Item interval={500}>\r\n                                <div key={id}>\r\n                                  <img\r\n                                    className=\"d-block w-100\"\r\n                                    src={url}\r\n                                    alt=\"\"\r\n                                    width={320}\r\n                                    height={225}\r\n                                  />\r\n                                </div>\r\n                              </Carousel.Item>\r\n                            );\r\n                          })\r\n                        : \"\"}\r\n                    </Carousel>\r\n                    <br />\r\n                    <b>City:</b> {el.city} <br />\r\n                    <b>type:</b> {el.type} <br />\r\n                    <br />\r\n                    {/* <b>short decription:</b> {el.description} <br />*/}\r\n                    <b>Decription:</b> {el.descForCustomer} <br />\r\n                    <br />\r\n                    <b>Location:</b> {el.location} <br />\r\n                  </div>\r\n                </Card.Body>\r\n                <Card.Footer></Card.Footer>\r\n              </Card>\r\n            </center>\r\n          </>\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const displayCard = () => {\r\n    return (\r\n      <CardDeck>\r\n        {pointOfInterestList\r\n          ? pointOfInterestList.map((el) => oneCard(el))\r\n          : \"\"}\r\n      </CardDeck>\r\n    );\r\n  };\r\n\r\n  const deleteTour = () => {\r\n    const tourRef = firebase.database().ref(\"tour\").child(tour.id);\r\n    tourRef.remove();\r\n    setIsOpen(!isOpen);\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"ViewVehicles\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Delete Tour\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Card className=\"cardItem\" style={{ flex: 1 }}>\r\n        <Card.Body>\r\n          <Table striped bordered hover>\r\n            <thead></thead>\r\n            <tbody>\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <b>\r\n                    <center>\r\n                      <Carousel>\r\n                        {tour.imageUrl\r\n                          ? tour.imageUrl.map(({ id, url }) => {\r\n                              return (\r\n                                <Carousel.Item interval={500}>\r\n                                  <div key={id}>\r\n                                    <img\r\n                                      className=\"d-block w-100\"\r\n                                      src={url}\r\n                                      alt=\"\"\r\n                                      width={320}\r\n                                      height={225}\r\n                                    />\r\n                                  </div>\r\n                                </Carousel.Item>\r\n                              );\r\n                            })\r\n                          : \"\"}\r\n\r\n                        {tour.poi\r\n                          ? tour.poi.map(\r\n                              ({\r\n                                city,\r\n                                decription,\r\n                                geoLat,\r\n                                geoLng,\r\n                                id,\r\n                                imageUrl,\r\n                                name,\r\n                                ticketCost,\r\n                                time,\r\n                                type,\r\n                              }) => {\r\n                                return (\r\n                                  <Carousel.Item interval={500}>\r\n                                    <div key={imageUrl[0].id}>\r\n                                      <img\r\n                                        className=\"d-block w-100\"\r\n                                        src={imageUrl[0].url}\r\n                                        alt=\"\"\r\n                                        width={320}\r\n                                        height={225}\r\n                                      />\r\n                                    </div>\r\n                                    <Carousel.Caption>\r\n                                      <p className=\"borderText\">{name}</p>\r\n                                    </Carousel.Caption>\r\n                                  </Carousel.Item>\r\n                                );\r\n                              }\r\n                            )\r\n                          : \"\"}\r\n                      </Carousel>\r\n                    </center>\r\n                  </b>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <Card.Title>\r\n                    <center>\r\n                      <h4>{tour.title}</h4>\r\n                    </center>\r\n                  </Card.Title>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <b>Description Customer:</b> {tour.descForCustomer}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <b>Description Guide:</b> {tour.descForGuide}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <b>Tour Cost:</b> {tour.tourCost} €\r\n                </td>\r\n                <td>\r\n                  <b>Time:</b> {tour.time}'\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </Table>\r\n        </Card.Body>\r\n        <Card.Footer>\r\n          <center>\r\n            <button className=\"btn btn-danger\" onClick={togglePopupMsg}>\r\n              <i className=\"fa fa-trash-alt\"></i>\r\n            </button>{\" \"}\r\n            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <button className=\"btn btn-secondary\" onClick={togglePoiPopupMsg}>\r\n              <>\r\n                {`Tour Pois - `}\r\n                <i class=\"fa fa-map-marker-alt\" aria-hidden=\"true\"></i>\r\n              </>\r\n            </button>\r\n          </center>\r\n        </Card.Footer>\r\n      </Card>\r\n      {isOpen && (\r\n        <PopupMsg\r\n          content={\r\n            <>\r\n              <b>Question</b>\r\n              <p>Are you sure you want to delete this tour?</p>\r\n              <center>\r\n                <button\r\n                  className=\"btn btn-danger btn-lg\"\r\n                  type=\"submit\"\r\n                  onClick={deleteTour}\r\n                >\r\n                  {\" \"}\r\n                  Yes{\" \"}\r\n                </button>\r\n                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                <button\r\n                  className=\"btn btn-warning btn-lg\"\r\n                  type=\"submit\"\r\n                  onClick={togglePopupMsg}\r\n                >\r\n                  {\" \"}\r\n                  No{\" \"}\r\n                </button>\r\n              </center>\r\n            </>\r\n          }\r\n          handleClose={togglePopupMsg}\r\n        />\r\n      )}\r\n      {isPoisOpen && (\r\n        <PopupCards\r\n          content={\r\n            <>\r\n              <b>Points of Interests</b>\r\n              <div>\r\n                <center>{displayCard()}</center>\r\n              </div>\r\n              <br />\r\n              <center>\r\n                <button\r\n                  className=\"btn btn-warning btn-lg\"\r\n                  type=\"submit\"\r\n                  onClick={togglePoiPopupMsg}\r\n                >\r\n                  {\" \"}\r\n                  OK{\" \"}\r\n                </button>\r\n              </center>\r\n            </>\r\n          }\r\n          handleClose={togglePopupMsg}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { CardDeck} from \"react-bootstrap\";\r\nimport NavigationBar from \"./NavigationBar\";\r\nimport firebase from \"../firebase\";\r\nimport TourList from \"./control/TourList\";\r\n\r\nexport default function Tours() {\r\n  const [tourList, setTourList] = useState();\r\n\r\n\r\n  useEffect(() => {\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"ViewTours\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Open Tours page\",\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const tourRef = firebase.database().ref(\"tour\");\r\n    tourRef.on(\"value\", (snapshot) => {\r\n      const tours = snapshot.val();\r\n      const tourList = [];\r\n      for (let id in tours) {\r\n        tourList.push({ id, ...tours[id] });\r\n      }\r\n      setTourList(tourList);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <NavigationBar />\r\n      <div>\r\n        <br />\r\n        <b>Tours {`>`} All Tours </b>\r\n\r\n        <CardDeck>\r\n          {tourList\r\n            ? tourList.map((tour, index) => (\r\n                <TourList tour={tour} key={index} />\r\n              ))\r\n            : \"\"}\r\n        </CardDeck>\r\n      </div>\r\n    </>\r\n  );\r\n}","import React, { useState } from \"react\";\r\nimport PopupMsg from \"./PopupMsg\";\r\nimport { Carousel, Card, Table } from \"react-bootstrap\";\r\nimport firebase from \"../../firebase\";\r\n\r\nexport default function TourGuideList({ tourGuide }) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const togglePopupMsg = (e) => {\r\n    e.preventDefault();\r\n    setIsOpen(!isOpen);\r\n  };\r\n\r\n  const deletetourGuide = () => {\r\n    const tourGuideRef = firebase\r\n      .database()\r\n      .ref(\"tourGuide\")\r\n      .child(tourGuide.id);\r\n    tourGuideRef.remove();\r\n    setIsOpen(!isOpen);\r\n  };\r\n  const changeAvailability = () => {\r\n    const tourGuideRef = firebase\r\n      .database()\r\n      .ref(\"tourGuide\")\r\n      .child(tourGuide.id);\r\n    tourGuideRef.update({\r\n      availableForHire: !tourGuide.availableForHire,\r\n    });\r\n  };\r\n  return (\r\n    <div>\r\n      <h4 className={tourGuide.complete ? \"availableForHire\" : \"\"}></h4>\r\n\r\n      <Card className=\"cardItem\" style={{ flex: 1 }}>\r\n        <Card.Body>\r\n          <Table striped bordered hover>\r\n            <thead></thead>\r\n            <tbody>\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <b>\r\n                    <center>\r\n                      <Carousel>\r\n                        {tourGuide.imageUrl\r\n                          ? tourGuide.imageUrl.map(({ id, url }) => {\r\n                              return (\r\n                                <Carousel.Item interval={500}>\r\n                                  <div key={id}>\r\n                                    <img\r\n                                      className=\"d-block w-100\"\r\n                                      src={url}\r\n                                      alt=\"\"\r\n                                      width={320}\r\n                                      height={225}\r\n                                    />\r\n                                  </div>\r\n                                </Carousel.Item>\r\n                              );\r\n                            })\r\n                          : \"\"}\r\n                      </Carousel>\r\n                    </center>\r\n                  </b>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <b>\r\n                    <Card.Title>\r\n                      <center>\r\n                        <h4>{tourGuide.name}</h4>\r\n                      </center>\r\n                    </Card.Title>\r\n                  </b>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <b>Age:</b> {tourGuide.age}\r\n                </td>\r\n                <td>\r\n                  <b></b>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <b>Languages:</b> {tourGuide.languages}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <b>Tel.:</b> {tourGuide.telephone}\r\n                </td>\r\n                <td>\r\n                  <b>Email:</b> {tourGuide.email}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <b>Address:</b> {tourGuide.address}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <center>\r\n                    {tourGuide.availableForHire ? (\r\n                      <b style={{ color: \"green\" }}>Available</b>\r\n                    ) : (\r\n                      <b style={{ color: \"red\" }}>Not available</b>\r\n                    )}{\" \"}\r\n                  </center>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </Table>\r\n        </Card.Body>\r\n        <Card.Footer>\r\n          <center>\r\n            <button className=\"btn btn-danger\" onClick={togglePopupMsg}>\r\n              <i className=\"fa fa-trash-alt\"></i>\r\n            </button>\r\n            <button className=\"btn btn-dark\" onClick={changeAvailability}>\r\n              <b>toggle availability</b>\r\n            </button>\r\n          </center>\r\n        </Card.Footer>\r\n      </Card>\r\n      {isOpen && (\r\n        <PopupMsg\r\n          content={\r\n            <>\r\n              <b>Question</b>\r\n              <p>Are you sure you want to delete this tour guide?</p>\r\n              <center>\r\n                <button\r\n                  className=\"btn btn-danger btn-lg\"\r\n                  type=\"submit\"\r\n                  onClick={deletetourGuide}\r\n                >\r\n                  {\" \"}\r\n                  Yes{\" \"}\r\n                </button>\r\n                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                <button\r\n                  className=\"btn btn-warning btn-lg\"\r\n                  type=\"submit\"\r\n                  onClick={togglePopupMsg}\r\n                >\r\n                  {\" \"}\r\n                  No{\" \"}\r\n                </button>\r\n              </center>\r\n            </>\r\n          }\r\n          handleClose={togglePopupMsg}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport NavigationBar from \"./NavigationBar\";\r\nimport firebase from \"../firebase\";\r\nimport TourGuideList from \"./control/TourGuideList\";\r\nimport { CardDeck } from \"react-bootstrap\";\r\n\r\nexport default function TourGuides() {\r\n  const [tourGuideList, setTourGuideList] = useState();\r\n\r\n  useEffect(() => {\r\n    const tourGuideRef = firebase.database().ref(\"tourGuide\");\r\n    tourGuideRef.on(\"value\", (snapshot) => {\r\n      const tourGuide = snapshot.val();\r\n      const tourGuideList = [];\r\n      for (let id in tourGuide) {\r\n        tourGuideList.push({ id, ...tourGuide[id] });\r\n      }\r\n      setTourGuideList(tourGuideList);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <NavigationBar />\r\n      <div>\r\n        <br />\r\n        <b>Tour Guides {`>`} All Tour Guides </b>\r\n\r\n        <CardDeck>\r\n          {tourGuideList\r\n            ? tourGuideList.map((tourGuide, index) => (\r\n                <TourGuideList tourGuide={tourGuide} key={index} />\r\n              ))\r\n            : \"\"}\r\n        </CardDeck>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport PopupMsg from \"./PopupMsg\";\r\nimport { Carousel, Card, Table } from \"react-bootstrap\";\r\nimport firebase from \"../../firebase\";\r\n\r\nexport default function VehicleList({ vehicle }) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const togglePopupMsg = (e) => {\r\n    e.preventDefault();\r\n    setIsOpen(!isOpen);\r\n\r\n    if (!isOpen) {\r\n      window.ga(\"send\", {\r\n        hitType: \"event\",\r\n        eventCategory: \"ViewVehicles\",\r\n        eventAction: \"click\",\r\n        eventLabel: Date().toLocaleString() + \" - Open popup msg\",\r\n      });\r\n    } \r\n    //else gets logged when clicking delete vehicle\r\n\r\n  };\r\n\r\n  const deleteVehicle = () => {\r\n    const vehicleRef = firebase.database().ref(\"vehicle\").child(vehicle.id);\r\n    vehicleRef.remove();\r\n    setIsOpen(!isOpen);\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"ViewVehicles\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Delete Vehicle\",\r\n    });\r\n  };\r\n\r\n  const changeAvailability = () => {\r\n    const vehicleRef = firebase.database().ref(\"vehicle\").child(vehicle.id);\r\n    vehicleRef.update({\r\n      availableForRent: !vehicle.availableForRent,\r\n    });\r\n\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"ViewVehicles\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Set Vehicles Availability\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h4 className={vehicle.complete ? \"availableForRent\" : \"\"}></h4>\r\n\r\n      <Card className=\"cardItem\" style={{ flex: 1 }}>\r\n        <Card.Body>\r\n          <Table striped bordered hover>\r\n            <thead></thead>\r\n            <tbody>\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <b>\r\n                    <center>\r\n                      <Carousel>\r\n                        {vehicle.imageUrl\r\n                          ? vehicle.imageUrl.map(({ id, url }) => {\r\n                              return (\r\n                                <Carousel.Item interval={500}>\r\n                                  <div key={id}>\r\n                                    <img\r\n                                      className=\"d-block w-100\"\r\n                                      src={url}\r\n                                      alt=\"\"\r\n                                      width={320}\r\n                                      height={225}\r\n                                    />\r\n                                  </div>\r\n                                </Carousel.Item>\r\n                              );\r\n                            })\r\n                          : \"\"}\r\n                      </Carousel>\r\n                    </center>\r\n                  </b>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <Card.Title>\r\n                    <center>\r\n                      <h4>{vehicle.title}</h4>\r\n                    </center>\r\n                  </Card.Title>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <b>Type:</b> {vehicle.type}\r\n                </td>\r\n                <td>\r\n                  <b>Passengers #:</b> {vehicle.passengers}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <b>Fuel:</b> {vehicle.fuel}\r\n                </td>\r\n                <td>\r\n                  <b>Year:</b> {vehicle.year}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <b>Cost/h:</b> {vehicle.cph}\r\n                </td>\r\n                <td>\r\n                  <b>WiFi:</b> {vehicle.wiFi}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <b>Location:</b> {vehicle.location}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td colSpan=\"2\">\r\n                  <center>\r\n                    {vehicle.availableForRent ? (\r\n                      <b style={{ color: \"green\" }}>Available</b>\r\n                    ) : (\r\n                      <b style={{ color: \"red\" }}>Not available</b>\r\n                    )}{\" \"}\r\n                  </center>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </Table>\r\n        </Card.Body>\r\n        <Card.Footer>\r\n          <center>\r\n            <button className=\"btn btn-danger\" onClick={togglePopupMsg}>\r\n              <i className=\"fa fa-trash-alt\"></i>\r\n            </button>\r\n            <button className=\"btn btn-dark\" onClick={changeAvailability}>\r\n              <b>toggle availability</b>\r\n            </button>\r\n          </center>\r\n        </Card.Footer>\r\n      </Card>\r\n      {isOpen && (\r\n        <PopupMsg\r\n          content={\r\n            <>\r\n              <b>Question</b>\r\n              <p>Are you sure you want to delete this vehicle?</p>\r\n              <center>\r\n                <button\r\n                  className=\"btn btn-danger btn-lg\"\r\n                  type=\"submit\"\r\n                  onClick={deleteVehicle}\r\n                >\r\n                  {\" \"}\r\n                  Yes{\" \"}\r\n                </button>\r\n                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                <button\r\n                  className=\"btn btn-warning btn-lg\"\r\n                  type=\"submit\"\r\n                  onClick={togglePopupMsg}\r\n                >\r\n                  {\" \"}\r\n                  No{\" \"}\r\n                </button>\r\n              </center>\r\n            </>\r\n          }\r\n          handleClose={togglePopupMsg}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport NavigationBar from \"./NavigationBar\";\r\nimport firebase from \"../firebase\";\r\nimport VehicleList from \"./control/VehicleList\";\r\nimport { CardDeck } from \"react-bootstrap\";\r\n\r\nexport default function Vehicles() {\r\n  const [vehicleList, setVehicleList] = useState();\r\n\r\n\r\n  useEffect(() => {\r\n    window.ga(\"send\", {\r\n      hitType: \"event\",\r\n      eventCategory: \"ViewVehicles\",\r\n      eventAction: \"click\",\r\n      eventLabel: Date().toLocaleString() + \" - Open Vehicles page\",\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const vehicleRef = firebase.database().ref(\"vehicle\");\r\n    vehicleRef.on(\"value\", (snapshot) => {\r\n      const vehicle = snapshot.val();\r\n      const vehicleList = [];\r\n      for (let id in vehicle) {\r\n        vehicleList.push({ id, ...vehicle[id] });\r\n      }\r\n      setVehicleList(vehicleList);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <NavigationBar />\r\n      <div>\r\n        <br />\r\n        <b>Vehicles {`>`} All Vehicles </b>\r\n\r\n        <CardDeck>\r\n          {vehicleList\r\n            ? vehicleList.map((vehicle, index) => (\r\n                <VehicleList vehicle={vehicle} key={index} />\r\n              ))\r\n            : \"\"}\r\n        </CardDeck>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, PureComponent } from \"react\";\r\nimport Signup from \"./Signup\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport { AuthProvider } from \"../contexts/AuthContext\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Dashboard from \"./Dashboard\";\r\nimport Login from \"./Login\";\r\nimport PrivateRoute from \"./PrivateRoute\";\r\nimport ForgotPassword from \"./ForgotPassword\";\r\nimport UpdateProfile from \"./UpdateProfile\";\r\nimport About from \"./About\";\r\nimport AddPointOfInterest from \"./AddPointOfInterest\";\r\nimport AddTour from \"./AddTour\";\r\nimport AddTourGuide from \"./AddTourGuide\";\r\nimport AddVehicle from \"./AddVehicle\";\r\nimport PointOfInterest from \"./PointOfInterest\";\r\nimport Profile from \"./Profile\";\r\nimport RentRequests from \"./RentRequests\";\r\nimport Settings from \"./Settings\";\r\nimport Tours from \"./Tours\";\r\nimport TourGuides from \"./TourGuides\";\r\nimport Vehicles from \"./Vehicles\";\r\nimport Analytics from \"react-router-ga\";\r\nimport ReactGA from \"react-ga\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Container\r\n      className=\"d-flex align-items-center justify-content-center\"\r\n      style={{ minHeight: \"100vh\" }}\r\n    >\r\n      <div className=\"appStyles\">\r\n        <div>\r\n          <Router>\r\n            <Analytics id=\"UA-187590481-1\" debug>\r\n              <AuthProvider>\r\n                <Switch>\r\n                  <PrivateRoute exact path=\"/\" component={Dashboard} />\r\n                  <PrivateRoute\r\n                    path=\"/update-profile\"\r\n                    component={UpdateProfile}\r\n                  />\r\n\r\n                  <PrivateRoute path=\"/About\" component={About} />\r\n                  <PrivateRoute\r\n                    path=\"/AddPointOfInterest\"\r\n                    component={AddPointOfInterest}\r\n                  />\r\n                  <PrivateRoute path=\"/AddTour\" component={AddTour} />\r\n                  <PrivateRoute path=\"/AddTourGuide\" component={AddTourGuide} />\r\n                  <PrivateRoute path=\"/AddVehicle\" component={AddVehicle} />\r\n                  <PrivateRoute\r\n                    path=\"/PointOfInterest\"\r\n                    component={PointOfInterest}\r\n                  />\r\n                  <PrivateRoute path=\"/Profile\" component={Profile} />\r\n                  <PrivateRoute path=\"/RentRequests\" component={RentRequests} />\r\n                  <PrivateRoute path=\"/Settings\" component={Settings} />\r\n                  <PrivateRoute path=\"/TourGuides\" component={TourGuides} />\r\n                  <PrivateRoute path=\"/Tours\" component={Tours} />\r\n                  <PrivateRoute path=\"/Vehicles\" component={Vehicles} />\r\n\r\n                  <Route path=\"/signup\" component={Signup} />\r\n                  <Route path=\"/login\" component={Login} />\r\n                  <Route path=\"/forgot-password\" component={ForgotPassword} />\r\n                </Switch>\r\n              </AuthProvider>\r\n            </Analytics>\r\n          </Router>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport App from \"./components/App\"\r\nimport \"bootstrap/dist/css/bootstrap.min.css\"\r\nimport \"leaflet-control-geocoder/dist/Control.Geocoder.js\";\r\nimport './styles.css'\r\n\r\nimport ReactGA from 'react-ga';\r\nReactGA.initialize('G-2L4RNRB6BT');\r\nReactGA.pageview(window.location.pathname + window.location.search);\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n)\r\n","module.exports = __webpack_public_path__ + \"static/media/logo-64x128.8147dd67.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAEYklEQVRIia2WT0zbVhzHv7YTQxKSNAmETg1jazlUYtKE+L+qVKMCqaetEjmhSWOttHVMlXbqbeppmiZtQhoV4rAeJu2woU1TLxEUBIh2LWIlgwJrxbK1I5AmwQ6xE+eP7ecd1m5NcIJD9zt+39ffj9/vPb9nCgZr3e9nBZ4/z7DsIDStjaiqBwBohuEoYElRlG8dLtdPzRMTeSN5lBHT3f7+AQoYtTqdFpfP57C53WAtFgBAPptFmuOQ2NoSMqIoqao63D09/eMLgb/3+5lGQRhhTKahxpYWW43HUzYsxfN4vLycVlT1686uro+pq1dJKS9dLqhREEYsdvvQyZ6eA6EAUON24+SZM7Zqm+3C0p07X5bzlgTf7e8fYEymoePt7TaGZQ+EPivGbEZTZ6eNNpku/nz27NulfLqtXvf72VQy+dfxjo764pkmo1HEw2FIu7sAAGttHep8x+Csry/wpXgefywuRmuczpf1NpxJDyzw/Hmby2UthkY2N8HHYjg6fBkNLa3/AFaC2BkfgySKeKmp6V9vjdsNq8NhSXLcWwAmihm6rWbM5kF3Q4O9eKZ8LIYT49fhOHUatNUK2mqFo/sUXv1qDHw0imQ0WpDjamhwMCw7qMfQX2NNa7O53QVSPBzG0eHLYOz2fXbGbkf9pY8Q394u0G0eD2hNazcM1ghxm6urC7QMx6HmaXv1yt7aDonjCjRzVRUIIbqfgy6YaJqJogydLc+9rbZPoigKmqYxhsEUTXM5SSrQLJ5apFaCJbni8i+wFm3GXDoNimHihsEMTW/kRLFAq/MdQ2x8DGqRDgCqICA6Ngqvz1egZ0URFEWtGwarsjwl7u5mn9ec9fU44jqC0PvvIbkwDyJJIJKE5MI8Qh9cgNvrhcPrLcgR4/EMUZRJPYbuQt7u7T1hZtnV1/r7rcVrnYxGEd/eRubpAWKprYXX59sH1TQNa1NTkprNNnfPzT0yBAaApXPn1l5pbW02ckbrlbi7i0fLy792BAIteuMlz2pFlq/FQqHUoagAYqFQSlHV0VLjJcFWmv4mxXEkl05XDM2l00jzPMnl899VDH59aipNUdRIbHMzUyk48vChBE379M25uZIdK3sfE5r+go9ESDZlvOMZUUQyGlUlWb5WzlcW3BUICBrw2c76umHy9tpaCoR8Um62B4IBwOF0fp5OJITim0ev9nZ2IAkCZ0okys7WELh5YiKv5vOXwqurkqooJX2qoiC8tiZpsjzUdu+e/MJgAOienb2hyPLCkwcPsqU84fv3M6qq3uiamZk1kmkIDAB5k+kdfmsrm9nb2zeW4jgkI5G0LEkfGs0zDO4JBOKEoi7+GQyKhPz316oqCh4HgykVGDh961bifwcDQNfk5A9Elmd2NjZyz7StlZUMUdXrb9y8OV9Jlu7PXrmiZPndRDj8u722tkrO5YgQjz+RcrkrFedU+gAA3O7t7TGzbEAjhBBCOrqnp387TM6harGv78piX5//sM//DQOC8WdAYz/HAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAADLUlEQVRIie2UT2wUVRzHP29mZ3d29u/QrrQqFqFLPHAwIRYPGGwsiTGBgye8YkJIPGE4IBokxoAHEw/oBROjNy8erEQxapBUE3tAIPEgLVsMbCNJs92luzs7O/8eh2KTHWa77bYnw/f23m9+38/vzfu9HzzW/12iW+DgO9/vTxvx00IV6X6MA89vNFveB9+de+3KmsGHTl8aN9P6z/v3PadomtoPF9f1ufL73/7iovVKFDwWlZSKa+cnxncrI9sG+oKumGsx9Ycfb3wG7A7HlKgERWXX00+aG4ICbHvKRFEpRjLCG6+/+81IytBVVY2saV1SFYVUMhE7eGLy2Z5gKYy3Rnds7dp061Vx55BQk7FjPcGGkTi8Y6SwaeDt2wdFMqm/0RMMDBcKmc3i8sRgFkUwHN4XAIdOXhqN6+ov+Xw+07IaZjKpbxoYoNWySRrpau1+bclp+ROTH716Kwag6eqbxeLoM1u2bLyTV5G5uFg1Z2dLR4BTCoDEr9tt2yuV5pAy2HSilAGl0hx22/aCwK/Dwzv2rPb5cnn+Yq225AmxfO2FjIqu9d9juiYoZJannhAKtdqSVy7PX/Rs+1MIjczDH/767549zw+9uDPBvqKO5Ui+mKpju3Ld0CMvZTDigqkZm+m5NlevXr/39XsvrzRZ5JTYml2u1IgLMvr6B0lGVzDiy2caykXP+shZ/dusDcC9+z4LdR8poTJzGeE3UUR0IYEMkGqKgV3jLNR9pmZshnLqiteawJVGwLfXrJW1Y1XJGzC+d2+3QwJwefovHKtKImUyPdde9duO8gV+5HtymhWGB3OrGgEMD2RxGpXIWNi787/JIBGV5DcrDJq9p9mAmSVoRYPD3h1g6bt4rvtIjmdVyWV7g/O5DI5Ve2Tf9Vyk73Tsddyx4dzh+p8Q0zSQAimUJkJtZFuVwuRPf/QEA9SbTcrXbiwg/bSQQQoh8VyXlHO3OzgmW+TaN+G/vhB8fOHs8TNrIoZ09NQnZ5C83y0efhv/dKykvN0PFECGvej06gQ7/gtCKBNSckBKMXbh3Ntf9Qv+/OzxL6UUY1JyQAhlAicY69frsTakB2Q8HG2DZSU3AAAAAElFTkSuQmCC\""],"sourceRoot":""}